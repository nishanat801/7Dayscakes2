"use strict";Shopify.theme.jsCollection={init:function($section){Shopify.theme.jsCollection=$.extend(this,Shopify.theme.getSectionData($section));var isIE11=!!navigator.userAgent.match(/Trident.*rv\:11\./);isIE11||window.Shopify.loadFeatures([{name:"model-viewer",version:"0.8"},{name:"shopify-xr",version:"1.0"},{name:"model-viewer-ui",version:"1.0"}]),this.enable_sorting==!0&&$("#sort-by").val($("#sort-by").data("default-sort")),(this.enable_filter==!0||this.enable_sorting==!0)&&$("#tag_filter, #sort-by").on("change",function(){Shopify.theme.jsCollection.filterURL()}),$("[data-option-filter]").length&&$("[data-tag-filter-checkbox]:checked").each(function(){Shopify.theme.jsCollection.multiTagFilter.showSelectedFilter($(this))}),this.enable_breadcrumb&&this.pagination_type=="basic_pagination"&&Shopify.theme.breadcrumbs.init(this.number_of_pages),$("body").on("click","[data-option-filter]",function(e){e.preventDefault(),$(this).find("input").prop("checked",!0),Shopify.theme.jsCollection.multiTagFilter.init($(this)),Shopify.theme.scrollToTop($(".collection__content"))}),$("body").on("click","[data-clear-filter]",function(){var $el=$(this).siblings("[data-option-filter]"),$productTagFilter=$("#tag_filter");$productTagFilter.find("option:eq(0)").prop("selected",!0),Shopify.theme.jsCollection.multiTagFilter.clearSelectedFilter($el),Shopify.theme.scrollToTop($(".collection__content"))})},filterURL:function(){var selectedOptions=[],query="",currentTags="",siteUrl="https://"+$.url("hostname");if(Shopify.routes.root_url.length>1)var url1=$.url("1")?"/"+$.url("1")+"/":"",url2=$.url("2")?$.url("2")+"/":"",url3=$.url("3")?$.url("3")+"/":"",path=url1+url2+url3;else var url1=$.url("1")?"/"+$.url("1")+"/":"",url2=$.url("2")?$.url("2")+"/":"",path=url1+url2;if($("#sort-by").length?query=$("#sort-by").val():query=url("?sort_by"),$("#tag_filter").length&&$("#tag_filter").data("default-collection")!=$("#tag_filter").val()){var urlTag=$("#tag_filter").val().substr($("#tag_filter").val().lastIndexOf("/")+1);urlTag!="all"&&($.inArray(urlTag,selectedOptions)>-1||selectedOptions.unshift(urlTag))}$("[data-option-filter] input:checked").each(function(){selectedOptions.push($(this).val())}),selectedOptions=$.makeArray(selectedOptions),$.each(selectedOptions,function(i,value){i!=selectedOptions.length-1?currentTags+=selectedOptions[i]+"+":currentTags+=selectedOptions[i]}),Shopify.theme.queryParameters.sort_by=query,query="?"+$.param(Shopify.theme.queryParameters),this.processUrl(path,currentTags,query)},processUrl:function(path,tags,query){var query=query.replace(/\page=(\w+)&/,""),urlString="";urlString=path+tags+query,this.updateView(urlString)},updateView:function(filterURL2){$.ajax({type:"GET",url:filterURL2,beforeSend:function(){$(".collection-matrix").addClass("fadeOut animated loading-in-progress"),$(".collection-matrix__wrapper .collection__loading-icon").fadeIn()},success:function(data){},error:function(x,t,m){console.log(x),console.log(t),console.log(m),location.replace(location.protocol+"//"+location.host+filterURL2)},dataType:"html"}).then(function(data){var $breadcrumbContainer=$(".breadcrumb__container"),$collectionMatrix=$(".collection-matrix"),$collectionMain=$("[data-collection-main]"),filteredBreadcrumb=$(data).find(".breadcrumb__container").html();$breadcrumbContainer.html(filteredBreadcrumb),$collectionMatrix.removeClass("fadeIn animated loading-in-progress");var filteredData=$(data).find(".collection-matrix__wrapper"),filteredPageLinks=$(data).find(".container--pagination"),noProducts=$(data).find(".container--no-products-in-collection");filteredData.length?($collectionMain.empty(),$collectionMain.append(filteredData)):($collectionMain.empty(),$collectionMain.append(noProducts)),$collectionMain.append(filteredPageLinks),window.history&&window.history.pushState&&window.history.pushState("","",filterURL2),Shopify.theme_settings.enable_shopify_collection_badges==!0&&Shopify.theme.productReviews(),$("[data-custom-pagination]").length&&Shopify.theme.infiniteScroll.init()})},multiTagFilter:{init:function($el){this.showSelectedFilter($el),Shopify.theme.jsCollection.filterURL();var urlIndex;Shopify.routes.root_url.length>1?urlIndex=3:urlIndex=2,($.url(urlIndex)==="types"||$.url(urlIndex)==="vendors")&&$(".block__tag-filter").remove()},showSelectedFilter:function($el){var $sidebarToggleBlock=$el.parents(".sidebar-toggle-active"),$filterItem=$el.parents(".tag-filter__item");if($filterItem.addClass("is-active"),$filterItem.siblings(":not(.is-active)").addClass("is-hidden"),$filterItem.find("[data-clear-filter]").removeClass("is-hidden"),$sidebarToggleBlock.length){var $toggleBtn=$sidebarToggleBlock.find('[data-sidebar-block__toggle="closed"]');Shopify.theme.jsSidebar.openSidebarBlock($toggleBtn)}},clearSelectedFilter:function($el){var $filterItem=$el.parents(".tag-filter__item");$filterItem.removeClass("is-active").find("input").prop("checked",!1),$filterItem.siblings().removeClass("is-hidden"),$filterItem.find("[data-clear-filter]").addClass("is-hidden"),Shopify.theme.jsCollection.filterURL()}},unload:function($section){$("#tag_filter, #sort-by").off(),$("[data-option-filter]").off(),$("[data-reset-filters]").off(),$("[data-clear-filter]").off(),Shopify.theme.breadcrumbs.unload()}};
//# sourceMappingURL=/cdn/shop/t/15/assets/z__jsCollection.js.map?v=58737696284267409971690647505
