import{bp as e,Q as t,B as n,bq as i,br as a,bs as s,_ as o,bt as r,I as l,bu as c,M as p,bv as h,bw as m,aZ as d,a_ as u,bx as _,by as y,bz as f,bA as b,bB as g,bC as v,bD as C,P as w,bE as P,b3 as k,b2 as T,t as L,at as x,d as I,aE as S,aG as q,aD as M,aF as E,au as A,D as B,bF as F,bG as O,bH as R,aU as N,e as z,bI as V,bJ as $,bg as W,be as j,bf as H,bK as Z}from"./chunk.common_BCXQ74qN.esm.js";import{g as D,b as U}from"./client.login-button_CtVFTihq.en.esm.js";const J=(e,t)=>t.every((t=>t in e));function Y(t,n){return null!=t&&("cart"===(null==t?void 0:t.type)?function(t,n){const i=J(t,["min_price","max_price","price","eligible","number_of_payment_terms","available_loan_types"]);i||n(e.Cart,JSON.stringify(t))}(t,n):function(t,n){var i;const a=J(t,["variants","max_price","min_price","number_of_payment_terms"]),s=(null===(i=t.variants)||void 0===i?void 0:i.length)>0&&J(t.variants[0],["id","price","eligible","available_loan_types","available"]);a&&s||n(e.Product,JSON.stringify(t))}(t,n),J(t,["min_price","max_price"]))}function Q(t,n){return null!=t&&(t.type===e.Cart?function(t,n){const i=J(t,["min_price","max_price","price_per_term","eligible","number_of_payment_terms","full_price","financing_plans"]);if(!i)return null==n||n(e.Cart,JSON.stringify(t)),!1;return!0}(t,n):t.type===e.Checkout?function(t,n){const i=J(t,["min_price","max_price","price_per_term","eligible","number_of_payment_terms","full_price","financing_plans"]);if(!i)return null==n||n(e.Checkout,JSON.stringify(t)),!1;return!0}(t,n):function(t,n){var i;const a=J(t,["variants","max_price","min_price","financing_plans"]),s=(null===(i=t.variants)||void 0===i?void 0:i.length)>0&&J(t.variants[0],["id","price_per_term","eligible","full_price","available"]);if(!a||!s)return null==n||n(e.Product,JSON.stringify(t)),!1;return!0}(t,n))}class K extends HTMLElement{static get observedAttributes(){return["variant-id","shopify-meta"]}constructor(){super(),this._didMount=!1,this._currentBanner=document.createElement("div"),this.attachShadow({mode:"open"})}connectedCallback(){var e;const t=this._getNewBannerNode();this.shadowRoot||n.notify(new Error("ShopifyPaymentTerms: shadowRoot is null.")),null===(e=this.shadowRoot)||void 0===e||e.appendChild(t),this._currentBanner=t,this._didMount=!0}attributeChangedCallback(){var e;if(this._didMount){const t=this._getNewBannerNode();null===(e=this.shadowRoot)||void 0===e||e.replaceChild(t,this._currentBanner),this._currentBanner=t}}disconnectedCallback(){var e,t;(null===(e=this.shadowRoot)||void 0===e?void 0:e.contains(this._currentBanner))&&(null===(t=this.shadowRoot)||void 0===t||t.removeChild(this._currentBanner))}_getNewBannerNode(){const e=this.getAttribute("shopify-meta"),t=this.getAttribute("variant-id"),n=Boolean(e&&Q(JSON.parse(e))),i=document.createElement(n?"shop-pay-installments-banner":"shop-pay-banner");return t&&i.setAttribute("variant-id",t),e&&i.setAttribute("shopify-meta",e),i}}const G='\n  <style>\n      @font-face {\n        font-family: \'InterVariable\';\n        src: url(\'https://cdn.shopify.com/static/fonts/inter/v4/InterVariable.woff2\') format(\'woff2\');\n        font-weight: 100 900;\n        font-display: swap;\n        font-style: normal;\n        font-named-instance: \'Regular\';\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    .visually-hidden {\n      border: 0;\n      clip: rect(0, 0, 0, 0);\n      height: 1px;\n      margin: -1px;\n      overflow: hidden;\n      padding: 0;\n      position: absolute;\n      white-space: nowrap;\n      width: 1px;\n    }\n\n    .shopify-installments {\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n\n    .shopify-installments__inline {\n      display: inline\n    }\n\n    .shopify-installments__content {\n      padding-right: 4px;\n    }\n\n    .shopify-installments__learn-more {\n      color: inherit;\n      font-weight: inherit;\n      font: inherit;\n      background: none;\n      border: none;\n      padding: 0;\n      margin: 0;\n      cursor: pointer;\n      text-decoration: underline;\n    }\n\n    .shopify-installments__prequal-row-wrapper {\n      display: inline-flex;\n      position: relative;\n      overflow: hidden;\n    }\n\n    .shopify-installments__prequal-row {\n      display: inline-flex;\n      width: fit-content;\n      column-gap: 4px;\n      flex-wrap: nowrap;\n      min-width: max-content;\n      align-items: center;\n      transition: width 200ms;\n    }\n\n    .shopify-installments__prequal-row shop-prequal-amount,\n    .shopify-installments__prequal-row .shopify-installments__learn-more {\n      display: inline-block;\n    }\n\n    .default-font #shopify-installments-content b {\n      font-family: \'InterVariable\', sans-serif;\n      font-weight: bold;\';\n    }\n\n    #prequalAmountRowWrapper:not(.is-prequalified) #prequalAmountContainer {\n      transform: translateY(100%);\n      position: absolute;\n    }\n\n    .is-prequalified #prequalAmountContainer {\n      animation-name: slideUp;\n      animation-duration: 300ms;\n      animation-timing-function: ease-in;\n    }\n    .is-prequalified #prequalBackupCTA {\n      transition: all 300ms ease-out;\n      transform: translateY(100%);\n      opacity: 0;\n      position: absolute;\n    }\n\n    .stable.is-prequalified #prequalBackupCTA,\n    #prequalAmountRowWrapper.stable:not(.is-prequalified) #prequalAmountContainer\n    {\n      visibility: hidden;\n    }\n\n    #prequalAmountRowWrapper:not(.is-prequalified) #prequalAmountContainer button,\n    .is-prequalified #prequalBackupCTA button {\n      -webkit-touch-callout: none;\n      -webkit-user-select: none;\n      -khtml-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      pointer-events: none;\n    }\n\n    @keyframes slideUp {\n      0%,\n      20% {\n        transform: translateY(100%);\n        opacity: 0;\n      }\n\n      100% {\n        transform: translateY(0);\n        opacity: 1;\n      }\n    }\n  </style>\n  <p class="shopify-installments" id="shopify-installments">\n    <span class="shopify-installments__content" id="shopify-installments-content"></span>\n    <span class="shopify-installments__prequal-row-wrapper stable" id="prequalAmountRowWrapper">\n      <span class="shopify-installments__prequal-row" id="prequalBackupCTA">\n        <button aria-haspopup="dialog" class="shopify-installments__learn-more" id="shopify-installments-cta"></button>\n      </span>\n      <span class="shopify-installments__prequal-row" id="prequalAmountContainer">\n        <button aria-haspopup="dialog" class="shopify-installments__learn-more" id="shopifyPrequalifiedCTA" tabIndex="-1"></button>\n      </span>\n    </span>\n  </p>\n',X=e=>`<shop-pay-logo role="img" aria-label="Shop Pay" background-color="${e}"></shop-pay-logo>`,ee="Affirm",te="\n#shopify-payment-terms-modal .visually-hidden {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n}\n\n#shopify-payment-terms-modal .modal-wrapper {\n  max-width: 432px;\n}\n\n#shopify-payment-terms-modal p {\n  font-size: 18px;\n  line-height: 150%;\n}\n\n#shopify-payment-terms-modal section {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica,\n    Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n}\n\n#shopify-payment-terms-modal .price {\n  color: rgb(90, 49, 244);\n  font-weight: 600;\n  display: inline-flex;\n  flex-direction: column;\n  line-height: 1;\n  align-items: center;\n}\n\n#shopify-payment-terms-modal .price__icon {\n  width: 43px;\n  height: 10px;\n}\n\n#shopify-payment-terms-modal .list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n#shopify-payment-terms-modal .list-item__subheading {\n  font-size: 14px;\n  line-height: 140%;\n  color: rgba(0, 0, 0, 0.7);\n}\n\n#shopify-payment-terms-modal .btn__close--icon {\n  display: inline-flex;\n  flex-shrink: 0;\n  padding: 16px;\n  border-radius: 6px;\n}\n\n#shopify-payment-terms-modal .btn__close--icon:hover,\n#shopify-payment-terms-modal .btn__close--icon:active,\n#shopify-payment-terms-modal .btn__close--icon:focus {\n  background-color: rgb(244, 241, 254);\n  color: rgb(63, 34, 171);\n}\n\n#shopify-payment-terms-modal .help_text {\n  margin-bottom: 19px;\n  margin-top: 16px;\n  font-size: 11px;\n  line-height: 14px;\n  color: rgba(0, 0, 0, 0.6);\n}\n\n#shopify-payment-terms-modal .help_text small {\n  color: inherit;\n  letter-spacing: 0.04rem;\n  font-weight: 300;\n  font-size: 11px;\n}\n\n#shopify-payment-terms-modal .help_text__link {\n  color: rgba(0, 0, 0, 0.6);\n  text-decoration: underline;\n}\n\n#shopify-payment-terms-modal .help_text__link:hover,\n#shopify-payment-terms-modal .help_text__link:active,\n#shopify-payment-terms-modal .help_text__link:focus {\n  color: rgb(63, 34, 171);\n}\n\n#shopify-payment-terms-modal .tagline__bold {\n  font-weight: 700;\n}\n\n#shopify-payment-terms-modal footer, #shopify-payment-terms-cover footer {\n  text-align: center;\n}\n\n#shopify-payment-terms-modal .shop-pay-logo-wrapper,\n#shopify-payment-terms-cover .shop-pay-logo-wrapper {\n  margin-bottom: 12px;\n}\n\n#shopify-payment-terms-modal .close__icon {\n  width: 13px;\n  height: 13px;\n}\n\n.affirm-logo,\n#shopify-payment-terms-modal .affirm-logo,\n#shopify-payment-terms-cover .affirm-logo {\n  width: 39px;\n  height: 21px;\n  padding-left: 4px;\n  box-sizing: content-box;\n}\n\n.affirm-logo-inline,\n#shopify-payment-terms-modal .affirm-logo-inline,\n#shopify-payment-terms-cover .affirm-logo-inline {\n  margin-bottom: -6px;\n  padding-left: 0px;\n}\n\n.affirm-text,\n#shopify-payment-terms-modal .affirm-text,\n#shopify-payment-terms-cover .affirm-text {\n  display: flex;\n  font-size: 12px;\n  font-weight: 300;\n  line-height: 150%;\n  color: rgba(0, 0, 0, 0.6);\n  justify-content: center;\n  align-items: center;\n}\n\n.affirm-text small,\n#shopify-payment-terms-modal .affirm-text small,\n#shopify-payment-terms-cover .affirm-text small {\n  font-size: 11px;\n  letter-spacing: 0.04rem;\n  line-height: 14px;\n}\n",ne="Failed to construct 'HTMLElement': This instance is already constructed";class ie{constructor(e){this._documentFocusHandler=e=>{this._lastFocusable&&e.target!==this._getShadowRootHost()&&!this._isEventFromModal(e)&&(e.preventDefault(),e.stopPropagation(),this._lastFocusable.focus())},this._shadowRootFocusHandler=e=>{this._firstFocusable&&e.target===this._phantomElement&&this._firstFocusable.focus()},this._htmlElement=e}lock(){const e=this._htmlElement.querySelectorAll('a[href], button:not([disabled]):not([tabindex="-1"]');this._firstFocusable=e[0],this._lastFocusable=e[e.length-1],this._phantomElement=this._createPhantomElement(),this._htmlElement.appendChild(this._phantomElement),this._htmlElement.addEventListener("focus",this._shadowRootFocusHandler,!0),document.addEventListener("focus",this._documentFocusHandler,!0)}release(e={}){this._htmlElement.removeEventListener("focus",this._shadowRootFocusHandler,!0),document.removeEventListener("focus",this._documentFocusHandler,!0),this._removePhantomElement(),e instanceof HTMLElement&&e.focus()}_createPhantomElement(){const e=document.createElement("button");return e.setAttribute("aria-hidden","true"),e.className="visually-hidden",e}_removePhantomElement(){this._phantomElement&&this._htmlElement.removeChild(this._phantomElement)}_isEventFromModal(e){const t=e.composedPath().find((e=>e instanceof Element&&e.ariaModal));return Boolean(t)}_getShadowRootHost(){const e=this._htmlElement.getRootNode();return e instanceof ShadowRoot?e.host:null}}function ae(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e)}function se(){var e,t,n;switch(null===(n=null===(t=null===(e=window.Shopify)||void 0===e?void 0:e.theme)||void 0===t?void 0:t.name)||void 0===n?void 0:n.toLowerCase()){case"boundless":case"brooklyn":return".cart__subtotal";case"dawn":return".totals__subtotal-value, .sections.cart.new_subtotal";case"debut":return".cart-subtotal__price";case"express":return".cart__subtotal, .cart-drawer__subtotal-value";case"minimal":return".h5.cart__subtotal-price";case"narrative":return".cart-subtotal__price, .cart-drawer__subtotal-number";case"simple":return".cart__subtotal.h3";case"supply":return".h1.cart-subtotal--price";case"venture":return".CartSubtotal"}return null}function oe(){document.querySelector("[data-cart-subtotal]")||console.warn("[Shop Pay Installments] Cart price updates may not be handled automatically for this theme. To ensure the price shown in the Shop Pay Installments banner is updated correctly, follow the instructions found here: https://shopify.dev/themes/pricing-payments/installments#updating-the-banner-with-cart-total-changes")}function re(e){var t,n,i;const a="#FFF";if(!e)return a;const s=e.host.parentElement&&(null===(t=getComputedStyle(e.host.parentElement).getPropertyValue("--payment-terms-background-color"))||void 0===t?void 0:t.trim()),o=null===(n=getComputedStyle(document.documentElement).getPropertyValue("--payment-terms-background-color"))||void 0===n?void 0:n.trim(),r=null===(i=getComputedStyle(document.documentElement).getPropertyValue("--color-body"))||void 0===i?void 0:i.trim(),l=s||o||r;return l&&CSS.supports("color",l)?l:a}function le(e){return parseFloat(e.replace(/[^0-9.]/g,""))}function ce(e){const t=e.querySelector('select[name^="id"]')||e.querySelector('[name^="id"]');return t?Number(t.value):function(){const e=new URL(document.location.href).searchParams.get("variant");return e?Number(e):void 0}()}function pe(e){const t='<svg role="img" aria-labelledby="shopify-payment-terms-modal-affirm" class="affirm-logo-inline affirm-logo"><use xlink:href="#affirm" /></svg>';return e.isEnglish()?e.translate("modal.partnership",{affirmLogo:t}):e.translate("modal.partnership_disclaimer",{affirmLogo:t})}function he(e,t,n){return{subTitle:e.translate("modal.subtitle.dynamic_pdp",{count:t,priceWithoutInterest:n}),legalCopy:e.translate("modal.legal.dynamic_pdp")}}function me(e,t){return e.map((({pricePerTerm:e,apr:n,numberOfPaymentTerms:i,loanType:a})=>{const s=le(e)*i,o=le(t);return{pricePerTerm:e,apr:n,numberOfPaymentTerms:i,interest:ae(0===n?0:s-o),totalPriceWithInterest:ae(0===n?o:s),loanType:a}}))}function de(e,t,n,i){const s=e.translate("modal.title"),o=e.translate("modal.sample_plan_contents.check_eligibility"),r=e.translate("modal.sample_plan_contents.interest"),l=e.translate("modal.sample_plan_contents.total"),c=e.translate("modal.sample_plan_contents.processing"),p=e.translate("modal.sample_plan_contents.processing_time"),h=pe(e),m=e.translate("modal.new_window"),d=e.translate("modal.close");return`\n  <style>\n    ${te}\n\n    shop-pay-button[disabled] {\n      pointer-events: none;\n    }\n\n    #shopify-payment-terms-modal header {\n      display: flex;\n      flex-direction: column;\n    }\n\n    #shopify-payment-terms-modal h1 {\n      display: flex;\n      flex-direction: column;\n      color: rgb(18, 18, 18)\n    }\n\n    #shopify-payment-terms-modal p {\n      color: rgba(18, 18, 18, 0.7)\n    }\n\n    #shopify-payment-terms-modal #header-icons {\n      display: flex;\n      width: 100%;\n      justify-content: space-between;\n      align-items: baseline;\n      margin-bottom: 16px;\n    }\n\n    #shopify-payment-terms-modal .btn__close {\n      margin: 0;\n      background: transparent;\n      border: none;\n      -webkit-font-smoothing: inherit;\n      appearance: button;\n      cursor: pointer;\n    }\n\n    #shopify-payment-terms-modal h1 {\n      font-size: 30px;\n      font-weight: 600;\n      line-height: 120%;\n      margin: 0;\n      max-width: 100%;\n      font-family: inherit;\n      letter-spacing: 0.02em;\n    }\n\n    #shopify-payment-terms-modal .tagline {\n      margin: 0 0 16px 0;\n      line-height: 24px;\n    }\n    #shopify-payment-terms-modal .list {\n      background-color: #F5F5F5;\n      border-radius: 5px;\n      border: 1px solid #D9D9D9;\n      padding: 17px 21px;\n    }\n    #shopify-payment-terms-modal .list-item {\n      display: flex;\n      justify-content: space-between;\n      flex-direction: column;\n      padding: 11px 0;\n      color: #707070;\n      border-bottom: 1px solid #D9D9D9;\n    }\n\n    #shopify-payment-terms-modal .list-item:first-child {\n      padding-top: 0;\n    }\n\n    #shopify-payment-terms-modal .list-item:last-child {\n      border-bottom: none;\n      padding-bottom: 0;\n    }\n\n    #shopify-payment-terms-modal .list-item__price-per-term {\n      font-size: 18px;\n      font-weight: 600;\n    }\n\n    #shopify-payment-terms-modal .list-item__frequency {\n      font-size: 14px;\n      font-weight: 600;\n    }\n\n    #shopify-payment-terms-modal .list-item__payment-length {\n      padding: 2px 0px;\n      background: #F0F2F4;\n      border-radius: 4px;\n    }\n\n    #shopify-payment-terms-modal .list-item__number-of-terms {\n      font-size: 14px;\n    }\n\n    #shopify-payment-terms-modal .list-item__interest-details-container {\n      display: flex;\n      flex-direction: column;\n      row-gap: 9px;\n    }\n\n    #shopify-payment-terms-modal .list-item__interest-detail-label {\n      font-size: 12px;\n      line-height: 18px;\n    }\n\n    #shopify-payment-terms-modal .list-item__interest-detail-value {\n      font-size: 12px;\n      line-height: 18px;\n    }\n\n    #shopify-payment-terms-modal .list-item__financial-container {\n      display: flex;\n      justify-content: space-between;\n      margin-bottom: 9px;\n    }\n\n    #shopify-payment-terms-modal .list-item__amount-per-interval {\n      display: flex;\n      align-items: baseline;\n      line-height: 26px;\n    }\n\n    #shopify-payment-terms-modal .list-item__plan-total {\n      font-weight: 600;\n    }\n\n    #shopify-payment-terms-modal .list-item__interest-detail {\n      display: flex;\n      flex-direction: row;\n      margin-right: 12px;\n      align-content: center;\n      justify-content: space-between;\n      width: 100%;\n    }\n\n    #shopify-payment-terms-modal .navigation-buttons {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      margin-top: 16px;\n    }\n\n    #shopify-payment-terms-modal .shop-status-indicator-loading {\n      width: 100%;\n      height: 42px;\n    }\n\n    #shopify-payment-terms-modal .check_eligibility {\n      margin: 5px 0;\n      font-weight: 300;\n      font-size: 12px;\n      text-align: center;\n    }\n\n    #shopify-payment-terms-modal .help_text {\n      margin-top: 32px;\n      font-size: 12px;\n    }\n\n    .shop-modal-content-processing {\n      display: flex;\n      align-items: center;\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      padding: 2em;\n      flex-direction: column;\n      justify-content: center;\n\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica,\n    Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n    }\n\n    @keyframes fadeIn {\n      0% { opacity: 0; }\n      100% { opacity: 1; }\n    }\n\n    .shop-modal-content-processing:not(.prequal-hidden-state) {\n      animation: fadeIn 1s;\n    }\n\n    .shop-modal-content-processing > div {\n      margin-top: 20px;\n      text-align: center;\n    }\n\n    .shop-modal-content-processing .shop-modal-content-processing-loading-container {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n    }\n\n    .shop-modal-content-processing-loading-container > div {\n      margin-top: 20px;\n    }\n\n    .shop-modal-content-processing p {\n      margin: 0;\n    }\n\n    .shop-modal-content-processing p:first-child {\n      color: black;\n    }\n\n    .shop-modal-content-processing p:last-child {\n      font-size: 12px;\n      color: rgba(0, 0, 0, 0.6);\n    }\n\n    .hidden-navigation-buttons {\n      display: none;\n    }\n\n    .prequal-hidden-state {\n      display: none !important;\n    }\n\n    .modal-wrapper.opaque-hidden {\n      opacity: 0;\n      height: 500px;\n      overflow: hidden;\n    }\n  </style>\n  <div class="shop-modal-content-processing prequal-hidden-state">\n    <div class="shop-modal-content-processing-loading-container">\n      <div>\n        <p>${c}</p>\n        <p>${p}</p>\n      </div>\n    </div>\n    <div>\n      ${_e(h)}\n      ${ye()}\n    </div>\n  </div>\n  <div class="shop-modal-feature-iframe-wrapper prequal-hidden-state"></div>\n  <div class="continue-to-checkout-button prequal-hidden-state"></div>\n  <div\n    id="shopify-payment-terms-modal"\n    role="dialog"\n    aria-modal="true"\n    aria-labelledby="shopify-payment-terms-modal-heading"\n    tabindex="-1">\n    <section class="modal-wrapper">\n      <header>\n        <div id="header-icons">\n          <h1 id="shopify-payment-terms-modal-heading">${s}</h1>\n          <button type="button" class="btn__close btn__close--icon" aria-label="${d}">\n            <svg class="close__icon" aria-hidden="true"><use xlink:href="#close" /></svg>\n          </button>\n        </div>\n      </header>\n      <div hidden id="shopify-payment-terms-modal-warning-text">${m}</div>\n      <p class="tagline">${t}</p>\n      <ul class="list">\n        ${i.map((({pricePerTerm:t,apr:n,numberOfPaymentTerms:i,interest:s,totalPriceWithInterest:o,loanType:c})=>{const p=e.translate("modal.sample_plan_contents.apr",{aprAmount:n});return`\n          <li class="list-item">\n            <div class="list-item__financial-container">\n              <span class="list-item__amount-per-interval">\n                ${c===a.SplitPay?e.translate("modal.sample_plan_contents.split_pay_frequency",{pricePerTerm:t}):e.translate("modal.sample_plan_contents.other_frequency",{pricePerTerm:t})}\n                <span class="list-item__number-of-terms">${c===a.SplitPay?e.translate("modal.sample_plan_contents.split_pay_number_of_terms",{numberOfTerms:2*i}):e.translate("modal.sample_plan_contents.other_number_of_terms",{numberOfTerms:i})}</span>\n              </span>\n            </div>\n            <div class="list-item__interest-details-container">\n              <div class="list-item__interest-detail">\n                <span class="list-item__interest-detail-label list-item__apr-amount">${r} (${n}% ${p})</span>\n                <span class="list-item__interest-detail-value list-item__interest-amount">${s}</span>\n              </div>\n              <div class="list-item__interest-detail">\n                <span class="list-item__interest-detail-label">${l}</span>\n                <span class="list-item__interest-detail-value list-item__plan-total">${o}</span>\n              </div>\n            </div>\n          </li>\n        `})).join("")}\n      </ul>\n      <div class="navigation-buttons"></div>\n      <p class="check_eligibility">${o}</p>\n      <p id="eligibility-approval" class="help_text">\n        <small>\n          ${n}\n        </small>\n      </p>\n      <footer>\n        ${_e(h)}\n      </footer>\n      ${ye()}\n    </section>\n  </div>`}function ue(e,t,n,i,a){return`\n   <shop-pay-button style="width: 100%; --shop-pay-button-width: auto;" store-url="${e}" ${void 0===i?"":`variants="${i.idQuantityMapping}" ${!1===i.available?"disabled":""}`} button-text="${n}" payment-option="shop_pay_installments" source="installments_modal" source-token="${t}" ${void 0===a?"":`cart=${encodeURIComponent(JSON.stringify({currency:a.currency,items:a.items,token:a.token}))}`}></shop-pay-button>\n `}function _e(e){return`\n  <div class="shop-pay-logo-wrapper">\n    <shop-pay-logo role="img" aria-label="Shop Pay" size="large"></shop-pay-logo>\n  </div>\n  <div class="affirm-text">\n    <small>\n      ${e}\n    </small>\n  </div>`}function ye(){return'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" style="display: none;">\n  <symbol id="fees-icon" viewBox="0 0 21 18" fill="none">\n    <path d="M18.5 10.5474C18.5 15.267 14.5995 19.1236 9.75 19.1236C4.90048 19.1236 1 15.267 1 10.5474C1 5.82767 4.90048 1.97107 9.75 1.97107C14.5995 1.97107 18.5 5.82767 18.5 10.5474Z" stroke="#0B0B0C" stroke-width="2"/>\n    <path d="M11.4875 8.06938C11.8819 8.456 12.515 8.4497 12.9016 8.05531C13.2882 7.66092 13.2819 7.02778 12.8875 6.64117L11.4875 8.06938ZM10.0408 6.55725V7.55725V6.55725ZM7.1335 12.4337C6.70617 12.0838 6.07613 12.1466 5.72626 12.5739C5.37639 13.0013 5.43917 13.6313 5.8665 13.9812L7.1335 12.4337ZM12.1875 7.35527C12.8875 6.64117 12.8872 6.64088 12.887 6.6406C12.8869 6.6405 12.8866 6.64021 12.8864 6.64001C12.8859 6.63961 12.8855 6.6392 12.8851 6.63878C12.8842 6.63793 12.8833 6.63703 12.8823 6.63609C12.8804 6.63419 12.8782 6.6321 12.8758 6.62982C12.871 6.62526 12.8654 6.61993 12.8589 6.61388C12.8459 6.6018 12.8294 6.58683 12.8096 6.5694C12.7699 6.53459 12.7164 6.48973 12.6497 6.43832C12.5166 6.33585 12.328 6.20519 12.0884 6.07602C11.6099 5.81808 10.9106 5.55725 10.0408 5.55725V7.55725C10.5036 7.55725 10.8777 7.69544 11.1394 7.83651C11.2698 7.90684 11.3681 7.97569 11.4293 8.02285C11.4597 8.04625 11.4802 8.06374 11.4903 8.07257C11.4953 8.07696 11.4976 8.07914 11.4972 8.07874C11.497 8.07854 11.4961 8.07769 11.4944 8.07615C11.4936 8.07538 11.4927 8.07443 11.4915 8.07331C11.4909 8.07274 11.4903 8.07214 11.4896 8.07148C11.4893 8.07116 11.4889 8.07082 11.4886 8.07047C11.4884 8.07029 11.4881 8.07002 11.488 8.06993C11.4877 8.06966 11.4875 8.06938 12.1875 7.35527ZM10.0408 5.55725C8.12515 5.55725 6.90378 6.0365 6.19464 6.83562C5.49081 7.62876 5.5 8.51566 5.5 8.77398L7.5 8.77398C7.5 8.58897 7.50919 8.3675 7.69057 8.1631C7.86664 7.96469 8.41567 7.55725 10.0408 7.55725V5.55725ZM5.5 8.77398C5.5 10.0149 6.8138 11.5474 10.0408 11.5474V9.54737C7.35373 9.54737 7.5 8.41981 7.5 8.77398L5.5 8.77398ZM10.0408 11.5474C11.3127 11.5474 11.7267 11.9199 11.8526 12.072C11.9294 12.1647 11.9638 12.2521 11.9797 12.3098C11.9877 12.3388 11.9908 12.3595 11.9919 12.3681C11.9924 12.3721 11.9925 12.3743 11.9927 12.376C11.9927 12.3767 11.9928 12.3777 11.9929 12.3796C11.993 12.3801 11.9934 12.3859 11.9937 12.3909C11.9938 12.3916 11.9953 12.4128 11.9983 12.4379C11.9991 12.4448 12.004 12.4884 12.0163 12.5424C12.0206 12.5613 12.0384 12.6404 12.081 12.7343C12.1072 12.7876 12.1909 12.9199 12.2529 12.9949C12.374 13.1073 12.744 13.2896 12.9915 13.3208V11.3208C13.239 11.3519 13.609 11.5342 13.7301 11.6466C13.7921 11.7215 13.8758 11.8538 13.9019 11.907C13.9445 12.0008 13.9622 12.0798 13.9664 12.0985C13.9786 12.152 13.9835 12.195 13.9842 12.201C13.9859 12.2154 13.9869 12.2264 13.9873 12.2305C13.9877 12.2355 13.988 12.2393 13.9881 12.2405C13.9882 12.2421 13.9883 12.2437 13.988 12.2392C13.9878 12.2363 13.9874 12.2314 13.987 12.2257C13.9852 12.2014 13.9821 12.1655 13.9765 12.121C13.9655 12.0326 13.9455 11.9148 13.9076 11.7775C13.8317 11.5027 13.6833 11.1468 13.3928 10.7961C12.7843 10.0615 11.7261 9.54737 10.0408 9.54737V11.5474ZM12.9915 13.3208C12.7152 13.2818 12.3392 13.0787 12.2329 12.9723C12.1834 12.9097 12.1152 12.8024 12.0934 12.7604C12.0576 12.6873 12.0393 12.6263 12.0345 12.6106C12.0212 12.5665 12.014 12.5313 12.0123 12.5227C12.0071 12.4972 12.0042 12.4778 12.0034 12.4721C12.0011 12.4564 12.0001 12.4462 11.9998 12.4436C11.9991 12.4365 11.9995 12.4381 11.9998 12.4473C12.0003 12.4656 12.0003 12.5037 11.9945 12.5544C11.9827 12.6586 11.9503 12.7886 11.8754 12.9129C11.7692 13.089 11.4095 13.5375 10.0408 13.5375V15.5375C11.9075 15.5375 13.0264 14.8776 13.5883 13.9454C13.8474 13.5154 13.9465 13.0913 13.9818 12.7798C13.9996 12.6227 14.002 12.4876 13.9988 12.3847C13.9972 12.3333 13.9941 12.2872 13.9902 12.2477C13.9883 12.2288 13.9858 12.2062 13.9822 12.1821C13.9808 12.1723 13.9774 12.1497 13.9717 12.122C13.9698 12.1124 13.9624 12.0764 13.9489 12.0317C13.9441 12.0157 13.9257 11.9545 13.8899 11.8814C13.868 11.8393 13.7998 11.7319 13.7502 11.6693C13.6439 11.5628 13.2679 11.3597 12.9915 11.3208V13.3208ZM10.0408 13.5375C9.30305 13.5375 8.58044 13.2774 8.00962 12.9834C7.73057 12.8397 7.50347 12.696 7.34846 12.59C7.27131 12.5372 7.21302 12.4944 7.17616 12.4666C7.15775 12.4527 7.14477 12.4426 7.13753 12.4369C7.13392 12.434 7.13175 12.4323 7.13106 12.4317C7.13071 12.4314 7.13074 12.4315 7.13115 12.4318C7.13135 12.432 7.13165 12.4322 7.13204 12.4325C7.13224 12.4327 7.13245 12.4329 7.1327 12.4331C7.13282 12.4331 7.13302 12.4333 7.13308 12.4334C7.13329 12.4335 7.1335 12.4337 6.5 13.2074C5.8665 13.9812 5.86672 13.9814 5.86696 13.9816C5.86704 13.9816 5.86728 13.9818 5.86745 13.982C5.86779 13.9822 5.86816 13.9825 5.86855 13.9829C5.86934 13.9835 5.87023 13.9842 5.87122 13.985C5.8732 13.9866 5.87559 13.9886 5.87838 13.9908C5.88396 13.9953 5.89114 14.001 5.89989 14.0079C5.91739 14.0217 5.94118 14.0402 5.97093 14.0626C6.03039 14.1075 6.11399 14.1687 6.21908 14.2406C6.42854 14.3839 6.72734 14.5727 7.09394 14.7615C7.81445 15.1326 8.86225 15.5375 10.0408 15.5375V13.5375Z" fill="#0B0B0C"/>\n    <path d="M9.75 4.96118L9.75 16.1335" stroke="#0B0B0C" stroke-width="2" stroke-linecap="round"/>\n  </symbol>\n  <symbol id="cc-icon" viewBox="0 0 21 16" fill="none">\n    <path\n    d="M17.3636 1H2.63636C1.73262 1 1 1.7835 1 2.75V13.25C1 14.2165 1.73262 15 2.63636 15H17.3636C18.2674 15 19 14.2165 19 13.25V2.75C19 1.7835 18.2674 1 17.3636 1Z"\n    stroke="#0B0B0C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />\n    <path d="M1 6L19 6" stroke="#0B0B0C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />\n    <path d="M13 11H15" stroke="#0B0B0C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />\n  </symbol>\n  <symbol id="affirm" viewBox="0 0 40 22" fill="none">\n    <title id="shopify-payment-terms-modal-affirm">Affirm</title>\n    <path fill="#000000"\n      d="M3.058 14.543c-.482 0-.724-.236-.724-.623 0-.72.812-.965 2.292-1.121 0 .962-.656 1.744-1.569 1.744zm.638-5.413c-1.058 0-2.275.495-2.936 1.017l.604 1.26c.53-.48 1.386-.892 2.159-.892.734 0 1.14.243 1.14.734 0 .33-.269.497-.777.563C1.99 12.056.5 12.575.5 14.026c0 1.15.826 1.846 2.116 1.846.92 0 1.74-.507 2.129-1.176v.99H6.46v-4.148c0-1.712-1.2-2.408-2.764-2.408zM20.92 9.318v6.367h1.837v-3.068c0-1.458.89-1.886 1.51-1.886.243 0 .57.07.785.23l.334-1.684a2.104 2.104 0 00-.822-.147c-.944 0-1.538.415-1.929 1.258v-1.07h-1.714zM33.899 9.13c-.971 0-1.697.57-2.075 1.118-.35-.709-1.093-1.118-1.983-1.118-.971 0-1.643.535-1.954 1.15v-.962h-1.77v6.367h1.838v-3.277c0-1.177.621-1.742 1.201-1.742.525 0 1.007.337 1.007 1.207v3.812h1.835v-3.277c0-1.19.606-1.742 1.213-1.742.486 0 .998.35.998 1.193v3.826h1.834v-4.401c0-1.431-.971-2.154-2.144-2.154zM16.452 9.317h-1.664v-.648c0-.842.485-1.083.903-1.083.462 0 .822.203.822.203l.566-1.284s-.573-.372-1.617-.372c-1.173 0-2.508.656-2.508 2.716v.468h-2.785v-.648c0-.842.485-1.083.903-1.083.238 0 .557.054.822.203l.566-1.284c-.338-.196-.88-.372-1.617-.372-1.173 0-2.508.656-2.508 2.716v.468H7.269v1.405h1.066v4.963h1.834v-4.963h2.785v4.963h1.834v-4.963h1.664V9.317zM17.547 15.684h1.832V9.317h-1.832v6.367z" />\n    <path fill="#5A31F4"\n      d="M28.24.434c-4.956 0-9.372 3.413-10.625 7.8h1.795C20.457 4.968 24.012 2.1 28.24 2.1c5.14 0 9.582 3.882 9.582 9.925 0 1.356-.177 2.58-.513 3.66h1.743l.017-.059c.286-1.115.431-2.326.431-3.6 0-6.74-4.95-11.59-11.26-11.59z" />\n  </symbol>\n  <symbol id="squiggle" viewBox="0 0 43 10" fill="none">\n    <path\n      d="M9.62095 5.04617C8.94881 5.25492 8.31699 5.39409 7.71878 5.63067C5.84572 6.36986 4.08993 7.39479 2.50965 8.6715C2.22013 8.91561 1.9685 9.20426 1.76356 9.52739C1.64079 9.72655 1.45521 9.87557 1.23834 9.94914C1.02147 10.0227 0.786683 10.0163 0.573866 9.93098C0.150414 9.81964 0.0159848 9.46476 0.0025419 9.03334C-0.0117113 8.78028 0.0341362 8.52746 0.136075 8.29699C0.238015 8.06651 0.392942 7.86541 0.587309 7.71124C1.44731 6.98191 2.34482 6.30131 3.27589 5.67243C4.88859 4.53384 6.69839 3.72817 8.60601 3.2996C9.16432 3.2139 9.72969 3.18825 10.2931 3.22306C10.5766 3.23472 10.8466 3.35146 11.0539 3.552C11.2611 3.75254 11.3919 4.02352 11.4223 4.31553C11.4514 4.96274 11.4401 5.61122 11.3887 6.25693C11.3887 6.47264 11.3416 6.68835 11.2946 7.03628C11.5734 6.98943 11.8463 6.91006 12.1079 6.79969C13.1228 6.23606 14.1243 5.6933 15.1191 5.04617C16.7687 3.80877 18.5394 2.75456 20.4022 1.90096C21.4062 1.47852 22.4848 1.27937 23.568 1.31645C23.7541 1.30668 23.9402 1.33708 24.1144 1.40573C24.2886 1.47438 24.447 1.57978 24.5798 1.71523C24.7125 1.85068 24.8166 2.01322 24.8854 2.19254C24.9542 2.37186 24.9862 2.56402 24.9795 2.75685C24.9795 3.30656 24.9123 3.85628 24.8719 4.46166C24.9997 4.3712 25.1542 4.27378 25.3088 4.17636C26.7002 3.24394 28.0646 2.2628 29.4963 1.393C30.9457 0.454744 32.6266 -0.028641 34.3358 0.00131229C35.3238 0.0361044 35.8078 0.50232 35.8078 1.51129C35.8195 1.97782 35.7835 2.44432 35.7002 2.90297C35.5848 3.41514 35.4389 3.91943 35.2633 4.41295C35.5053 4.26682 35.6666 4.18332 35.8145 4.0859C37.5361 2.791 39.3752 1.67239 41.3059 0.745863C41.5215 0.653045 41.7472 0.587624 41.9781 0.551028C42.1749 0.499154 42.3835 0.528135 42.5601 0.6319C42.7368 0.735666 42.8678 0.906168 42.9258 1.1077C43.0097 1.31745 43.0229 1.55039 42.9631 1.76883C42.9033 1.98728 42.7742 2.17848 42.5964 2.31151C42.5112 2.38001 42.4187 2.43837 42.3209 2.48547C40.393 3.40943 38.5543 4.52081 36.8294 5.80463C36.453 6.05514 36.0766 6.30564 35.6868 6.54223C35.4484 6.71142 35.1882 6.84495 34.9138 6.93886C33.4082 7.32853 32.5882 6.93886 32.8638 5.28971C32.9948 4.73065 33.1702 4.18373 33.388 3.65448C33.5762 3.11868 33.7913 2.5968 34.0602 1.93575C33.5628 2.02621 33.1864 2.07492 32.8302 2.17234C31.1747 2.70218 29.6179 3.5186 28.226 4.58691C27.1035 5.37321 26.0146 6.20126 24.8652 6.9319C24.4142 7.18452 23.9125 7.32507 23.3999 7.34244C23.2503 7.3709 23.0962 7.3608 22.9512 7.31303C22.8062 7.26527 22.6747 7.18131 22.5685 7.06855C22.4622 6.9558 22.3844 6.81771 22.3418 6.66646C22.2993 6.51521 22.2933 6.35545 22.3245 6.20126C22.4231 5.49335 22.5782 4.79511 22.7883 4.11374C22.8992 3.78799 23.0294 3.46962 23.1781 3.16044C22.6262 3.27341 22.0843 3.43401 21.5583 3.64057C20.2543 4.33641 18.9571 5.03225 17.7001 5.72809C16.3559 6.54223 15.0116 7.44682 13.6673 8.28183C12.8993 8.75227 12.0091 8.96383 11.1198 8.88721C10.8941 8.89799 10.6688 8.85872 10.459 8.77204C10.2491 8.68537 10.0595 8.55327 9.903 8.38461C9.74644 8.21596 9.6265 8.01462 9.5512 7.79409C9.4759 7.57355 9.44697 7.3389 9.46636 7.10586C9.48652 6.50048 9.54702 5.83943 9.62095 5.04617Z"\n      fill="#BDADFB" />\n  </symbol>\n  <symbol id="close" viewBox="0 0 14 14" fill="none">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.547 6.77l5.322-5.086A.468.468 0 0014 1.347a.662.662 0 00-.131-.379l-.875-.842A.725.725 0 0012.6 0c-.175 0-.262.042-.35.126L7 5.136 1.75.127A.508.508 0 001.4 0c-.175 0-.306.042-.394.126L.131.968a.662.662 0 00-.131.38c0 .126.044.252.175.336L5.453 6.73.13 11.816a.468.468 0 00-.131.337c0 .126.044.252.131.379l.875.842a.724.724 0 00.394.126c.175 0 .263-.042.35-.126L7 8.364l5.25 5.01a.508.508 0 00.35.126c.175 0 .306-.042.394-.126l.875-.842a.662.662 0 00.131-.38.378.378 0 00-.175-.336L8.547 6.77z" fill="#000000"/>\n  </symbol>\n</svg>'}function fe(e){if(!e||""===e.trim())return[];const t=e=>"CSSFontFaceRule"===e.constructor.name;try{const n=[...document.styleSheets].filter((e=>{try{return Boolean(e.cssRules)}catch(e){return!1}})).flatMap((e=>[...e.cssRules].filter(t))).filter((t=>e.includes(t.style.getPropertyValue("font-family")))).map((e=>{const t={};for(let n=e.style.length;n--;){const i=e.style[n];t[i]=e.style.getPropertyValue(i)}const n=e.style.getPropertyValue("src");return n&&(t.src=n.replace(/url\((["']?)([^"')]+)\1\)/gm,((t,n,i)=>{var a,s;if(i.match(/^(https?:)?\/\//))return t;{const t=null!==(s=null===(a=e.parentStyleSheet)||void 0===a?void 0:a.href)&&void 0!==s?s:location.href;return`url("${new URL(i,t).toString()}")`}}))),t})),i=e=>{if(!e)return{};const t=new Map([["font-weight","weight"],["font-display","display"],["font-style","style"],["font-stretch","stretch"],["ascent-override","ascentOverride"],["descent-override","descentOverride"],["font-feature-settings","featureSettings"],["line-gap-override","lineGapOverride"],["unicode-range","unicodeRange"]]),n={};return t.forEach(((t,i)=>{e[i]&&(n[t]=e[i])})),n};return(null!=n?n:[]).map((e=>({src:e.src,fontFamily:e["font-family"].replace(/["']/g,""),fontFaceDescriptors:i(e)})))}catch(e){return[]}}class be extends HTMLElement{constructor(e,t,n,i,a,o,r,l,c){super(),this._i18n=null,this._trackContinueToCheckout=!0,this._initialized=!1,this.handleClose=()=>{this._monorailTracker.trackModalAction(this._modalToken,s.Close);const e=new Event("shopify_modal_close");this.dispatchEvent(e)},this.handleEscKey=e=>{"Escape"!==e.key&&"Esc"!==e.key||this.handleClose()},this.handleContinueToCheckout=()=>{this._trackContinueToCheckout&&this._monorailTracker.trackModalAction(this._modalToken,s.ContinueToCheckout)},this._loanTypes=i,this._eligible=t,this._modalToken=a,this._monorailTracker=o,this._pricePerTerm=e,this._priceRange=n,this._priceWithoutInterest=r,this._minIneligibleMessageType=l,this._numberOfPaymentTerms=c,this.attachShadow({mode:"open",delegatesFocus:!0})}get focusLockTarget(){return this.rootContainer.querySelector("#shopify-payment-terms-modal")}get rootContainer(){return this.shadowRoot}connectedCallback(){return o(this,void 0,void 0,(function*(){this._initialized||(yield this._initTranslations(),yield this._initContent(),this._closeButtons=this.rootContainer.querySelectorAll(".btn__close"),this._closeButtons&&0!==this._closeButtons.length&&(this._closeButtons.forEach((e=>e.addEventListener("click",this.handleClose))),this._closeButtons[0].focus(),window.addEventListener("keydown",this.handleEscKey),this._initialized=!0))}))}disconnectedCallback(){this._closeButtons&&(this._closeButtons.forEach((e=>e.removeEventListener("click",this.handleClose))),window.removeEventListener("keydown",this.handleEscKey))}get price(){return this.getAttribute("price")||""}set price(e){this.setAttribute("price",e)}getModalToken(){return this._modalToken}getModalType(){var e;return(null===(e=this._loanTypes)||void 0===e?void 0:e.length)&&this._eligible?this._loanTypes.includes(a.Interest)&&this._loanTypes.includes(a.SplitPay)?r.Adaptive:this._loanTypes.includes(a.SplitPay)?r.SplitPay:r.InterestOnly:r.Ineligible}determineListItemsByLoanTypes(e){return this._i18n?e&&e.includes(a.Interest)?[this._i18n.translate("modal.split_pay_contents.interest_fees"),this._i18n.translate("modal.split_pay_contents.interest_credit")]:[this._i18n.translate("modal.split_pay_contents.no_interest_fees"),this._i18n.translate("modal.split_pay_contents.no_interest_credit")]:["",""]}determineTextByLoanTypes(e,t,n,i,s,o){if(!this._i18n)return{subTitle:"",legalCopy:""};if(!e||!i)return this.getIneligibleMessage(n,o,s);if(e.includes(a.Interest)&&e.includes(a.SplitPay)){const e=[this._i18n.translate("modal.legal.interest_and_split_pay"),this._i18n.translate("modal.legal.rates_from_apr"),this._i18n.translate("modal.legal.ca_residents_notice")].filter(Boolean).join(" ");return{subTitle:this._i18n.translate("modal.subtitle.interest_and_split_pay",{splitPayLoanRepayment:t}),legalCopy:e}}if(e.includes(a.SplitPay)){const e=[this._i18n.translate("modal.legal.split_pay_only"),this._i18n.translate("modal.legal.ca_residents_notice")].filter(Boolean).join(" ");let n="modal.subtitle.split_pay_only";2===this._numberOfPaymentTerms?n="modal.subtitle.split_pay_only_2":1===this._numberOfPaymentTerms&&(n="modal.subtitle.split_pay_only_30");return{subTitle:this._i18n.translate(n,{price:o,splitPayLoanRepayment:t}),legalCopy:e}}if(e.includes(a.Interest)){const e=[this._i18n.translate("modal.legal.rates_from_apr"),this._i18n.translate("modal.legal.ca_residents_notice")].filter(Boolean).join(" ");return{subTitle:this._i18n.translate("modal.subtitle.interest_only"),legalCopy:e}}return this.getIneligibleMessage(n,o,s)}getIneligibleMessage(e,t,n){if(!this._i18n)return{subTitle:"",legalCopy:""};const a=null==e?void 0:e.minPrice,s=null==e?void 0:e.maxPrice,o=a?le(a):null,r=t?le(t):null,l=[this._i18n.translate("modal.legal.ineligible"),this._i18n.translate("modal.legal.ca_residents_notice")].filter(Boolean).join(" ");if(!o||!s)return{subTitle:"",legalCopy:l};if(!r||r<o){let e="modal.subtitle.ineligible_min";2!==this._numberOfPaymentTerms&&1!==this._numberOfPaymentTerms||(e="modal.subtitle.ineligible_min_over_time");const t=this._i18n.translate(e,{minPrice:a}),s=this._i18n.translate("modal.subtitle.ineligible_monthly_payments_min",{minPrice:a});return{subTitle:n===i.Monthly?s:t,legalCopy:l}}return{subTitle:this._i18n.translate("modal.subtitle.ineligible_max",{maxPrice:s}),legalCopy:l}}_initTranslations(){return o(this,void 0,void 0,(function*(){if(!this._i18n)try{const e=l.getDefaultLanguage(),t={affirm:"Affirm",shopPay:"Shop Pay",banner:{learn_more:"Learn more",view_sample_plans:"View sample plans",prequal:"Check your purchasing power",split_pay_eligible:"Pay in 4 interest-free installments of <b>{price}</b> with {shopPayLogo}",split_pay_eligible_2:"Pay in 2 interest-free installments of <b>{price}</b> with {shopPayLogo}",split_pay_eligible_30:"Pay <b>{price}</b> within 30 days interest-free with {shopPayLogo}",interest_only_eligible:"Split your purchase into monthly installments with {shopPayLogo}",dynamic_interest_only_eligible:"From <b>{price}</b>/mo with {shopPayLogo}",pay_in_4_or_as_low_as_eligible:"4 interest-free installments, or from <b>{price}</b>/mo with {shopPayLogo}",zero_interest_eligible:"From <b>{price}</b>/mo or 0% APR with {shopPayLogo}",zero_interest_eligible_zero_apr:"From <b>{price}</b>/mo at 0% APR with {shopPayLogo}",non_eligible_min:"Pay in 4 interest-free installments for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_min_over_time:"Pay over time for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_min_over_time_30:"Pay within 30 days interest-free for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_monthly_payments_min:"Split your purchase into monthly installments for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_max:"Split your purchase into installments for orders up to <b>{maxPrice}</b> with {shopPayLogo}",prequal_contents:{not_prequalified_see_plans:"Check your purchasing power",prequalified_see_plans:"See plans",purchasing_power_a:"Your purchasing power is ",purchasing_power_b:"Spend any amount up to "}},modal:{title:"Get it now, pay later",subtitle:{interest_and_split_pay:'Choose your payment schedule at checkout &#8211; starting at 4 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 2 weeks.',interest_only:"Choose your payment schedule at checkout to split your purchase into monthly installments.",split_pay_only:'Select installments at checkout to split your purchase into 4 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 2 weeks.',split_pay_only_2:'Select installments at checkout to split your purchase into 2 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 15 days.',split_pay_only_30:"Select installments at checkout to pay for your purchase of <b>{price}</b> interest-free within 30 days.",ineligible_min:"For orders over {minPrice}, select installments at checkout to split your purchase into 4 interest-free payments.",ineligible_min_over_time:"For orders over {minPrice}, select installments at checkout to split your purchase over time.",ineligible_monthly_payments_min:"For orders over {minPrice}, select installments at checkout to split your purchase into monthly payments.",ineligible_max:"For orders up to {maxPrice}, select installments at checkout to split your purchase into multiple payments.",dynamic_pdp:{one:"Sample plan for <b>{priceWithoutInterest}</b> purchase",other:"Sample plans for <b>{priceWithoutInterest}</b> purchase"}},close:"Close",new_window:"Opens in a new window.",partnership:"Installments in partnership with {affirmLogo}",partnership_disclaimer:"Installments in partnership with {affirmLogo}. Translation services are not provided by Affirm. Affirm and its offerings are only supported in English.",split_pay_contents:{interest_fees:"No hidden fees, ever.",interest_credit:"No impact on your credit score to apply.",no_interest_fees:"No fees, ever.",no_interest_credit:"No impact on your credit score to apply."},sample_plan_contents:{continue_to_checkout:"Continue to checkout",unavailable:"Unavailable",check_eligibility:"By continuing, your information will be shared with Affirm. <br/> Checking your qualification won’t affect your credit. ",apr:"APR",interest:"Interest",total:"Total",processing:"Processing your request",processing_time:"This can take up to a minute...",split_pay_frequency:'<b class="list-item__price-per-term">{pricePerTerm}</b>&nbsp;<span class="list-item__frequency"> every 2 weeks</span>',other_frequency:'<b class="list-item__price-per-term">{pricePerTerm}</b>&nbsp;<span class="list-item__frequency"> every month</span>',split_pay_number_of_terms:"&nbsp;for {numberOfTerms} weeks",other_number_of_terms:"&nbsp;for {numberOfTerms} months"},prequal_contents:{unavailable:"Unavailable",check:"Check if you qualify"},legal:{ca_residents_notice:"CA Residents: Loans by Affirm Loan Services, LLC are made or arranged pursuant to a California Finance Lender license.",rates_from_apr:'Rates from 0-36% APR. Payment options through Affirm are subject to an eligibility check, may not be available in all states, and are provided by these lending partners: <a class="help_text__link" href="https://www.affirm.com/licenses" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/lenders</a>. Options depend on your purchase amount, and a down payment may be required.',interest_and_split_pay:"The estimated payment amount excludes taxes and shipping.",split_pay_only:"The estimated payment amount excludes taxes and shipping. Payment options are offered by Affirm and are subject to an eligibility check and might not be available in all states.",ineligible:"Payment options are offered by Affirm and are subject to an eligibility check and might not be available in all states.",dynamic_pdp:'The estimated payment amount excludes taxes and shipping. Rates range from 0-36% APR. Payment options through Shop Pay Installments are subject to an eligibility check and are provided by these lending partners: <a class="help_text__link" href="https://www.affirm.com/lenders" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/lenders</a>. Options depend on your purchase amount, and a down payment may be required. More options may be available upon approval. State notices to consumers: <a class="help_text__link" href="https://www.affirm.com/licenses" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/licenses</a>.'}}};this._i18n=new l({[e]:t})}catch(e){e instanceof Error&&n.notify(e)}}))}_initContent(){return o(this,void 0,void 0,(function*(){if(!this._i18n)return;const e=document.createElement("template"),t=this.determineListItemsByLoanTypes(this._loanTypes),{subTitle:n,legalCopy:i}=this.determineTextByLoanTypes(this._loanTypes,this._pricePerTerm,this._priceRange,this._eligible,this._minIneligibleMessageType,this._priceWithoutInterest);e.innerHTML=function(e,t,n,i){const a=e.translate("modal.title"),s=e.translate("modal.close"),o=e.translate("modal.new_window"),r=pe(e);return`\n  <style>\n    ${te}\n\n    #shopify-payment-terms-modal {\n      color: rgba(18, 18, 18, 0.7);\n    }\n\n    #shopify-payment-terms-modal header {\n      display: flex;\n      justify-content: space-between;\n      align-items: baseline;\n      background: inherit;\n      position: inherit;\n      color: black;\n    }\n\n    #shopify-payment-terms-modal .btn__close {\n      position: absolute;\n      right: 22px;\n      top: 22px;\n      overflow: visible;\n      margin: 0;\n      background: transparent;\n      border: none;\n      -webkit-font-smoothing: inherit;\n      appearance: button;\n      cursor: pointer;\n      width: fit-content;\n    }\n\n    #shopify-payment-terms-modal h1 {\n      font-size: 32px;\n      font-weight: 600;\n      line-height: 120%;\n      margin: 0 0 20px;\n      max-width: 295px;\n      font-family: inherit;\n      letter-spacing: 0.02em;\n    }\n\n    #shopify-payment-terms-modal .tagline {\n      margin: 0 0 28px 0;\n      line-height: 24px;\n    }\n\n    #shopify-payment-terms-modal .list-item {\n      display: flex;\n      align-items: center;\n      padding-bottom: 8px;\n    }\n\n    #shopify-payment-terms-modal .list-item__heading {\n      font-size: 16px;\n      line-height: 125%;\n      margin: 0;\n    }\n\n    #shopify-payment-terms-modal .list-item__icon {\n      width: 24px;\n      height: 24px;\n      flex: 0 0 21px;\n      padding-right: 12px;\n      box-sizing: content-box;\n    }\n  </style>\n  <div\n    id="shopify-payment-terms-modal"\n    role="dialog"\n    aria-modal="true"\n    aria-labelledby="shopify-payment-terms-modal-heading"\n    tabindex="-1">\n    <section class="modal-wrapper">\n        <header>\n        <button type="button" class="btn__close btn__close--icon" aria-label="${s}">\n          <svg class="close__icon" aria-hidden="true"><use xlink:href="#close" /></svg>\n        </button>\n        <h1 id="shopify-payment-terms-modal-heading">${a}</h1>\n      </header>\n      <div hidden id="shopify-payment-terms-modal-warning-text">${o}</div>\n      <p class="tagline">${t}</p>\n      <ul class="list">\n        <li class="list-item">\n          <svg role="img" aria-hidden="true" class="list-item__icon"><use xlink:href="#fees-icon" /></svg>\n          <span class="list-item__heading">${i[0]}</span>\n        </li>\n        <li class="list-item">\n          <svg role="img" aria-hidden="true" class="list-item__icon"><use xlink:href="#cc-icon" /></svg>\n          <span class="list-item__heading">${i[1]}</span>\n        </li>\n      </ul>\n      <p id="eligibility-approval" class="help_text">\n        <small>\n          ${n}\n        </small>\n      </p>\n      <footer>\n        <div class="shop-pay-logo-wrapper">\n          <shop-pay-logo role="img" aria-label="Shop Pay" size="large"></shop-pay-logo>\n        </div>\n        <div class="affirm-text">\n          <small>${r}</small>\n        </div>\n      </footer>\n      <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" style="display: none;">\n        <symbol id="fees-icon" viewBox="0 0 21 18" fill="none">\n          <path d="M18.5 10.5474C18.5 15.267 14.5995 19.1236 9.75 19.1236C4.90048 19.1236 1 15.267 1 10.5474C1 5.82767 4.90048 1.97107 9.75 1.97107C14.5995 1.97107 18.5 5.82767 18.5 10.5474Z" stroke="#0B0B0C" stroke-width="2"/>\n          <path d="M11.4875 8.06938C11.8819 8.456 12.515 8.4497 12.9016 8.05531C13.2882 7.66092 13.2819 7.02778 12.8875 6.64117L11.4875 8.06938ZM10.0408 6.55725V7.55725V6.55725ZM7.1335 12.4337C6.70617 12.0838 6.07613 12.1466 5.72626 12.5739C5.37639 13.0013 5.43917 13.6313 5.8665 13.9812L7.1335 12.4337ZM12.1875 7.35527C12.8875 6.64117 12.8872 6.64088 12.887 6.6406C12.8869 6.6405 12.8866 6.64021 12.8864 6.64001C12.8859 6.63961 12.8855 6.6392 12.8851 6.63878C12.8842 6.63793 12.8833 6.63703 12.8823 6.63609C12.8804 6.63419 12.8782 6.6321 12.8758 6.62982C12.871 6.62526 12.8654 6.61993 12.8589 6.61388C12.8459 6.6018 12.8294 6.58683 12.8096 6.5694C12.7699 6.53459 12.7164 6.48973 12.6497 6.43832C12.5166 6.33585 12.328 6.20519 12.0884 6.07602C11.6099 5.81808 10.9106 5.55725 10.0408 5.55725V7.55725C10.5036 7.55725 10.8777 7.69544 11.1394 7.83651C11.2698 7.90684 11.3681 7.97569 11.4293 8.02285C11.4597 8.04625 11.4802 8.06374 11.4903 8.07257C11.4953 8.07696 11.4976 8.07914 11.4972 8.07874C11.497 8.07854 11.4961 8.07769 11.4944 8.07615C11.4936 8.07538 11.4927 8.07443 11.4915 8.07331C11.4909 8.07274 11.4903 8.07214 11.4896 8.07148C11.4893 8.07116 11.4889 8.07082 11.4886 8.07047C11.4884 8.07029 11.4881 8.07002 11.488 8.06993C11.4877 8.06966 11.4875 8.06938 12.1875 7.35527ZM10.0408 5.55725C8.12515 5.55725 6.90378 6.0365 6.19464 6.83562C5.49081 7.62876 5.5 8.51566 5.5 8.77398L7.5 8.77398C7.5 8.58897 7.50919 8.3675 7.69057 8.1631C7.86664 7.96469 8.41567 7.55725 10.0408 7.55725V5.55725ZM5.5 8.77398C5.5 10.0149 6.8138 11.5474 10.0408 11.5474V9.54737C7.35373 9.54737 7.5 8.41981 7.5 8.77398L5.5 8.77398ZM10.0408 11.5474C11.3127 11.5474 11.7267 11.9199 11.8526 12.072C11.9294 12.1647 11.9638 12.2521 11.9797 12.3098C11.9877 12.3388 11.9908 12.3595 11.9919 12.3681C11.9924 12.3721 11.9925 12.3743 11.9927 12.376C11.9927 12.3767 11.9928 12.3777 11.9929 12.3796C11.993 12.3801 11.9934 12.3859 11.9937 12.3909C11.9938 12.3916 11.9953 12.4128 11.9983 12.4379C11.9991 12.4448 12.004 12.4884 12.0163 12.5424C12.0206 12.5613 12.0384 12.6404 12.081 12.7343C12.1072 12.7876 12.1909 12.9199 12.2529 12.9949C12.374 13.1073 12.744 13.2896 12.9915 13.3208V11.3208C13.239 11.3519 13.609 11.5342 13.7301 11.6466C13.7921 11.7215 13.8758 11.8538 13.9019 11.907C13.9445 12.0008 13.9622 12.0798 13.9664 12.0985C13.9786 12.152 13.9835 12.195 13.9842 12.201C13.9859 12.2154 13.9869 12.2264 13.9873 12.2305C13.9877 12.2355 13.988 12.2393 13.9881 12.2405C13.9882 12.2421 13.9883 12.2437 13.988 12.2392C13.9878 12.2363 13.9874 12.2314 13.987 12.2257C13.9852 12.2014 13.9821 12.1655 13.9765 12.121C13.9655 12.0326 13.9455 11.9148 13.9076 11.7775C13.8317 11.5027 13.6833 11.1468 13.3928 10.7961C12.7843 10.0615 11.7261 9.54737 10.0408 9.54737V11.5474ZM12.9915 13.3208C12.7152 13.2818 12.3392 13.0787 12.2329 12.9723C12.1834 12.9097 12.1152 12.8024 12.0934 12.7604C12.0576 12.6873 12.0393 12.6263 12.0345 12.6106C12.0212 12.5665 12.014 12.5313 12.0123 12.5227C12.0071 12.4972 12.0042 12.4778 12.0034 12.4721C12.0011 12.4564 12.0001 12.4462 11.9998 12.4436C11.9991 12.4365 11.9995 12.4381 11.9998 12.4473C12.0003 12.4656 12.0003 12.5037 11.9945 12.5544C11.9827 12.6586 11.9503 12.7886 11.8754 12.9129C11.7692 13.089 11.4095 13.5375 10.0408 13.5375V15.5375C11.9075 15.5375 13.0264 14.8776 13.5883 13.9454C13.8474 13.5154 13.9465 13.0913 13.9818 12.7798C13.9996 12.6227 14.002 12.4876 13.9988 12.3847C13.9972 12.3333 13.9941 12.2872 13.9902 12.2477C13.9883 12.2288 13.9858 12.2062 13.9822 12.1821C13.9808 12.1723 13.9774 12.1497 13.9717 12.122C13.9698 12.1124 13.9624 12.0764 13.9489 12.0317C13.9441 12.0157 13.9257 11.9545 13.8899 11.8814C13.868 11.8393 13.7998 11.7319 13.7502 11.6693C13.6439 11.5628 13.2679 11.3597 12.9915 11.3208V13.3208ZM10.0408 13.5375C9.30305 13.5375 8.58044 13.2774 8.00962 12.9834C7.73057 12.8397 7.50347 12.696 7.34846 12.59C7.27131 12.5372 7.21302 12.4944 7.17616 12.4666C7.15775 12.4527 7.14477 12.4426 7.13753 12.4369C7.13392 12.434 7.13175 12.4323 7.13106 12.4317C7.13071 12.4314 7.13074 12.4315 7.13115 12.4318C7.13135 12.432 7.13165 12.4322 7.13204 12.4325C7.13224 12.4327 7.13245 12.4329 7.1327 12.4331C7.13282 12.4331 7.13302 12.4333 7.13308 12.4334C7.13329 12.4335 7.1335 12.4337 6.5 13.2074C5.8665 13.9812 5.86672 13.9814 5.86696 13.9816C5.86704 13.9816 5.86728 13.9818 5.86745 13.982C5.86779 13.9822 5.86816 13.9825 5.86855 13.9829C5.86934 13.9835 5.87023 13.9842 5.87122 13.985C5.8732 13.9866 5.87559 13.9886 5.87838 13.9908C5.88396 13.9953 5.89114 14.001 5.89989 14.0079C5.91739 14.0217 5.94118 14.0402 5.97093 14.0626C6.03039 14.1075 6.11399 14.1687 6.21908 14.2406C6.42854 14.3839 6.72734 14.5727 7.09394 14.7615C7.81445 15.1326 8.86225 15.5375 10.0408 15.5375V13.5375Z" fill="#0B0B0C"/>\n          <path d="M9.75 4.96118L9.75 16.1335" stroke="#0B0B0C" stroke-width="2" stroke-linecap="round"/>\n        </symbol>\n        <symbol id="cc-icon" viewBox="0 0 21 16" fill="none">\n          <path\n          d="M17.3636 1H2.63636C1.73262 1 1 1.7835 1 2.75V13.25C1 14.2165 1.73262 15 2.63636 15H17.3636C18.2674 15 19 14.2165 19 13.25V2.75C19 1.7835 18.2674 1 17.3636 1Z"\n          stroke="#0B0B0C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />\n          <path d="M1 6L19 6" stroke="#0B0B0C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />\n          <path d="M13 11H15" stroke="#0B0B0C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />\n        </symbol>\n        <symbol id="affirm" viewBox="0 0 40 22" fill="none">\n          <title id="shopify-payment-terms-modal-affirm">${ee}</title>\n          <path fill="#000000"\n            d="M3.058 14.543c-.482 0-.724-.236-.724-.623 0-.72.812-.965 2.292-1.121 0 .962-.656 1.744-1.569 1.744zm.638-5.413c-1.058 0-2.275.495-2.936 1.017l.604 1.26c.53-.48 1.386-.892 2.159-.892.734 0 1.14.243 1.14.734 0 .33-.269.497-.777.563C1.99 12.056.5 12.575.5 14.026c0 1.15.826 1.846 2.116 1.846.92 0 1.74-.507 2.129-1.176v.99H6.46v-4.148c0-1.712-1.2-2.408-2.764-2.408zM20.92 9.318v6.367h1.837v-3.068c0-1.458.89-1.886 1.51-1.886.243 0 .57.07.785.23l.334-1.684a2.104 2.104 0 00-.822-.147c-.944 0-1.538.415-1.929 1.258v-1.07h-1.714zM33.899 9.13c-.971 0-1.697.57-2.075 1.118-.35-.709-1.093-1.118-1.983-1.118-.971 0-1.643.535-1.954 1.15v-.962h-1.77v6.367h1.838v-3.277c0-1.177.621-1.742 1.201-1.742.525 0 1.007.337 1.007 1.207v3.812h1.835v-3.277c0-1.19.606-1.742 1.213-1.742.486 0 .998.35.998 1.193v3.826h1.834v-4.401c0-1.431-.971-2.154-2.144-2.154zM16.452 9.317h-1.664v-.648c0-.842.485-1.083.903-1.083.462 0 .822.203.822.203l.566-1.284s-.573-.372-1.617-.372c-1.173 0-2.508.656-2.508 2.716v.468h-2.785v-.648c0-.842.485-1.083.903-1.083.238 0 .557.054.822.203l.566-1.284c-.338-.196-.88-.372-1.617-.372-1.173 0-2.508.656-2.508 2.716v.468H7.269v1.405h1.066v4.963h1.834v-4.963h2.785v4.963h1.834v-4.963h1.664V9.317zM17.547 15.684h1.832V9.317h-1.832v6.367z" />\n          <path fill="#5A31F4"\n            d="M28.24.434c-4.956 0-9.372 3.413-10.625 7.8h1.795C20.457 4.968 24.012 2.1 28.24 2.1c5.14 0 9.582 3.882 9.582 9.925 0 1.356-.177 2.58-.513 3.66h1.743l.017-.059c.286-1.115.431-2.326.431-3.6 0-6.74-4.95-11.59-11.26-11.59z" />\n        </symbol>\n        <symbol id="squiggle" viewBox="0 0 43 10" fill="none">\n          <path\n            d="M9.62095 5.04617C8.94881 5.25492 8.31699 5.39409 7.71878 5.63067C5.84572 6.36986 4.08993 7.39479 2.50965 8.6715C2.22013 8.91561 1.9685 9.20426 1.76356 9.52739C1.64079 9.72655 1.45521 9.87557 1.23834 9.94914C1.02147 10.0227 0.786683 10.0163 0.573866 9.93098C0.150414 9.81964 0.0159848 9.46476 0.0025419 9.03334C-0.0117113 8.78028 0.0341362 8.52746 0.136075 8.29699C0.238015 8.06651 0.392942 7.86541 0.587309 7.71124C1.44731 6.98191 2.34482 6.30131 3.27589 5.67243C4.88859 4.53384 6.69839 3.72817 8.60601 3.2996C9.16432 3.2139 9.72969 3.18825 10.2931 3.22306C10.5766 3.23472 10.8466 3.35146 11.0539 3.552C11.2611 3.75254 11.3919 4.02352 11.4223 4.31553C11.4514 4.96274 11.4401 5.61122 11.3887 6.25693C11.3887 6.47264 11.3416 6.68835 11.2946 7.03628C11.5734 6.98943 11.8463 6.91006 12.1079 6.79969C13.1228 6.23606 14.1243 5.6933 15.1191 5.04617C16.7687 3.80877 18.5394 2.75456 20.4022 1.90096C21.4062 1.47852 22.4848 1.27937 23.568 1.31645C23.7541 1.30668 23.9402 1.33708 24.1144 1.40573C24.2886 1.47438 24.447 1.57978 24.5798 1.71523C24.7125 1.85068 24.8166 2.01322 24.8854 2.19254C24.9542 2.37186 24.9862 2.56402 24.9795 2.75685C24.9795 3.30656 24.9123 3.85628 24.8719 4.46166C24.9997 4.3712 25.1542 4.27378 25.3088 4.17636C26.7002 3.24394 28.0646 2.2628 29.4963 1.393C30.9457 0.454744 32.6266 -0.028641 34.3358 0.00131229C35.3238 0.0361044 35.8078 0.50232 35.8078 1.51129C35.8195 1.97782 35.7835 2.44432 35.7002 2.90297C35.5848 3.41514 35.4389 3.91943 35.2633 4.41295C35.5053 4.26682 35.6666 4.18332 35.8145 4.0859C37.5361 2.791 39.3752 1.67239 41.3059 0.745863C41.5215 0.653045 41.7472 0.587624 41.9781 0.551028C42.1749 0.499154 42.3835 0.528135 42.5601 0.6319C42.7368 0.735666 42.8678 0.906168 42.9258 1.1077C43.0097 1.31745 43.0229 1.55039 42.9631 1.76883C42.9033 1.98728 42.7742 2.17848 42.5964 2.31151C42.5112 2.38001 42.4187 2.43837 42.3209 2.48547C40.393 3.40943 38.5543 4.52081 36.8294 5.80463C36.453 6.05514 36.0766 6.30564 35.6868 6.54223C35.4484 6.71142 35.1882 6.84495 34.9138 6.93886C33.4082 7.32853 32.5882 6.93886 32.8638 5.28971C32.9948 4.73065 33.1702 4.18373 33.388 3.65448C33.5762 3.11868 33.7913 2.5968 34.0602 1.93575C33.5628 2.02621 33.1864 2.07492 32.8302 2.17234C31.1747 2.70218 29.6179 3.5186 28.226 4.58691C27.1035 5.37321 26.0146 6.20126 24.8652 6.9319C24.4142 7.18452 23.9125 7.32507 23.3999 7.34244C23.2503 7.3709 23.0962 7.3608 22.9512 7.31303C22.8062 7.26527 22.6747 7.18131 22.5685 7.06855C22.4622 6.9558 22.3844 6.81771 22.3418 6.66646C22.2993 6.51521 22.2933 6.35545 22.3245 6.20126C22.4231 5.49335 22.5782 4.79511 22.7883 4.11374C22.8992 3.78799 23.0294 3.46962 23.1781 3.16044C22.6262 3.27341 22.0843 3.43401 21.5583 3.64057C20.2543 4.33641 18.9571 5.03225 17.7001 5.72809C16.3559 6.54223 15.0116 7.44682 13.6673 8.28183C12.8993 8.75227 12.0091 8.96383 11.1198 8.88721C10.8941 8.89799 10.6688 8.85872 10.459 8.77204C10.2491 8.68537 10.0595 8.55327 9.903 8.38461C9.74644 8.21596 9.6265 8.01462 9.5512 7.79409C9.4759 7.57355 9.44697 7.3389 9.46636 7.10586C9.48652 6.50048 9.54702 5.83943 9.62095 5.04617Z"\n            fill="#BDADFB" />\n        </symbol>\n        <symbol id="close" viewBox="0 0 14 14" fill="none">\n          <path fill-rule="evenodd" clip-rule="evenodd" d="M8.547 6.77l5.322-5.086A.468.468 0 0014 1.347a.662.662 0 00-.131-.379l-.875-.842A.725.725 0 0012.6 0c-.175 0-.262.042-.35.126L7 5.136 1.75.127A.508.508 0 001.4 0c-.175 0-.306.042-.394.126L.131.968a.662.662 0 00-.131.38c0 .126.044.252.175.336L5.453 6.73.13 11.816a.468.468 0 00-.131.337c0 .126.044.252.131.379l.875.842a.724.724 0 00.394.126c.175 0 .263-.042.35-.126L7 8.364l5.25 5.01a.508.508 0 00.35.126c.175 0 .306-.042.394-.126l.875-.842a.662.662 0 00.131-.38.378.378 0 00-.175-.336L8.547 6.77z" fill="#000000"/>\n        </symbol>\n      </svg>\n    </section>\n  </div>`}(this._i18n,n,i,t),this.rootContainer.appendChild(e.content.cloneNode(!0))}))}}const ge=e=>{const t=999999,n=document.createElement("div"),i=document.createElement("div");if(n.setAttribute("id","shopify-payment-terms-cover"),Object.assign(n.style,{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:t,background:"rgba(0,0,0,.3)"}),Object.assign(i.style,{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:t,background:"white",height:"max-content",width:"432px",maxWidth:"95%",maxHeight:"95%",margin:"auto",borderRadius:"7px",padding:"32px",boxSizing:"border-box",overflow:"auto",transition:"max-height ease-in 300ms"}),window.innerWidth<448&&Object.assign(i.style,{borderRadius:"0px",height:"auto",width:"auto",maxHeight:"100%",maxWidth:"100%"}),i.appendChild(e),i.addEventListener(c,(e=>{if(""===e.detail.height)return i.style.maxHeight="95%",void(i.style.overflow="auto");i.style.maxHeight=e.detail.height,i.style.overflow=e.detail.lockScroll?"hidden":"auto"})),"animate"in i){const e=[{opacity:0},{opacity:1}],t=[{transform:"translateY(-15%)",opacity:0},{transform:"translateY(0)",opacity:1}];i.animate(t,{fill:"forwards",duration:150}),n.animate(e,{fill:"forwards",duration:150})}n.appendChild(i),document.body.appendChild(n),document.body.dataset.paymentTermsInitialStyles=JSON.stringify({overflow:document.body.style.overflow}),document.body.style.overflow="hidden",n.addEventListener("click",(t=>{t.target===n&&e.handleClose()}))},ve=()=>{const e=document.querySelector("#shopify-payment-terms-cover");if(e&&(document.body.removeChild(e),document.body.dataset.paymentTermsInitialStyles)){const e=JSON.parse(document.body.dataset.paymentTermsInitialStyles);document.body.style.overflow=e.overflow,document.body.style.position=e.position,delete document.body.dataset.initialStyles}};class Ce extends p{constructor({elementName:e,analyticsTraceId:t,flow:n="",flowVersion:i="unspecified",shopId:a,checkoutVersion:s}){super({elementName:e,analyticsTraceId:t,flow:n,flowVersion:i,shopId:a,checkoutVersion:s}),this._modalActionTracker={},this._bannerImpressionTracked={},this._prequalPopupPageImpressionTracked={},this._bannerPrequalInteractionTracked=!1,this._invalidBannerMetadataTracked=!1}trackModalOpened(t,n,i,a,s,r,l){return o(this,void 0,void 0,(function*(){let o;if(o=t===e.Cart?`${t}-open`:`${n}-open`,this._modalActionTracker[o])return;this._modalActionTracker[o]=!0;const c=yield h("uniqToken","visitToken","microSessionId","microSessionCount","shopId","currency"),p=Object.assign(Object.assign({},c),{origin:t,modalToken:n,eligibleSpiPlanType:i,price:r,cartPermalink:l,spiPlanDetails:a,variantId:s,shopJsVersion:m});d({schemaId:u.InstallmentsModalOpened,payload:p},c,(()=>{this._modalActionTracker[o]=!1}))}))}trackModalAction(e,t,n){return o(this,void 0,void 0,(function*(){const i=`${e}-${t}`;if(this._modalActionTracker[i])return;this._modalActionTracker[i]=!0;const a=yield h("uniqToken","visitToken","microSessionId","microSessionCount","shopId"),s=Object.assign(Object.assign({},a),{modalToken:e,action:t,cartPermalink:n,shopJsVersion:m});d({schemaId:u.InstallmentsModalUserAction,payload:s},a,(()=>{this._modalActionTracker[i]=!1}))}))}trackInstallmentsBannerImpression(e,t,n,i,a,s,r){return o(this,void 0,void 0,(function*(){const o=r?String(r):"cart";if(this._bannerImpressionTracked[o])return;this._bannerImpressionTracked[o]=!0;const l=yield h("uniqToken","visitToken","shopId","microSessionId","contentLanguage","currency"),c=Object.assign(Object.assign({},l),{origin:e,bannerContent:t,eligible:n,bannerTemplateCodeSignature:i,price:s,shopJsVersion:m,hasPrequalLink:a,analyticsTraceId:this.analyticsTraceId||""});d({schemaId:u.InstallmentsBannerImpression,payload:c},l,(()=>{this._bannerImpressionTracked[o]=!1}))}))}trackInstallmentsPrequalPopupPageImpression(e,t){return o(this,void 0,void 0,(function*(){if(this._prequalPopupPageImpressionTracked[t])return;this._prequalPopupPageImpressionTracked[t]=!0;const n={analyticsTraceId:this.analyticsTraceId,sellerId:e,pageType:t};d({schemaId:u.InstallmentsPrequalPopupPageImpression,payload:n},void 0,(()=>{this._prequalPopupPageImpressionTracked[t]=!1}))}))}trackInvalidInstallmentBannerMetadata(e,t){return o(this,void 0,void 0,(function*(){if(this._invalidBannerMetadataTracked)return;this._invalidBannerMetadataTracked=!0;const n=yield h("uniqToken","visitToken","microSessionId","microSessionCount","shopId"),i=Object.assign(Object.assign({},n),{origin:e,metadata:t,shopJsVersion:m});d({schemaId:u.InstallmentsInvalidMetadata,payload:i},n,(()=>{this._invalidBannerMetadataTracked=!1}))}))}trackInstallmentsBannerPrequalInteraction(e,t,n,i,a){return o(this,void 0,void 0,(function*(){if(this._bannerPrequalInteractionTracked)return;this._bannerPrequalInteractionTracked=!0;const s=yield h("uniqToken","visitToken","shopId","microSessionId","contentLanguage","currency"),o=Object.assign(Object.assign({},s),{origin:e,bannerContent:t,eligible:n,price:i,shopJsVersion:m,prequalLinkClicked:a,analyticsTraceId:this.analyticsTraceId});d({schemaId:u.InstallmentsBannerPrequalInteraction,payload:o},s,(()=>{this._bannerPrequalInteractionTracked=!1}))}))}}class we extends HTMLElement{static get observedAttributes(){return["variant-id","shopify-meta"]}constructor(){super(),this._minPrice="$50",this._maxPrice="$3000",this._open=!1,this._eligible=!1,this._numberOfPaymentTerms=4,this._hasChangeEventListener=!1,this._loanTypes=[],this._metaType=e.Product,this._backgroundColor="",this._didMount=!1,this._i18n=null,this.getContent=e=>{if(!this._i18n)return"";const t=X(this._backgroundColor);if(!this._loanTypes.length)return this.getIneligibleContent();if(this._loanTypes.includes(a.SplitPay))return this._i18n.translate("banner.split_pay_eligible",{price:e||"",shopPayLogo:t});return this._loanTypes.includes(a.Interest)?this._i18n.translate("banner.interest_only_eligible",{shopPayLogo:t}):this.getIneligibleContent()},this.getIneligibleContent=()=>{if(!this._i18n)return"";const e=X(this._backgroundColor);return this._i18n.translate("banner.non_eligible_min",{shopPayLogo:e,minPrice:this._minPrice})},this.updateVariant=e=>{var t;const n=null===(t=this._variants)||void 0===t?void 0:t.find((t=>Number(t.id)===e));return this._eligible=Boolean(null==n?void 0:n.eligible),this._loanTypes=(null==n?void 0:n.available_loan_types)||[],this.updateBannerPrice(null==n?void 0:n.price),(null==n?void 0:n.price)||""},this.calculatePricePerTerm=(e,t)=>{const n=t.apr/1200,i=t.installments_count;if(0===n)return ae(e/i);return ae(e*n*Math.pow(1+n,i)/(Math.pow(1+n,i)-1))},this.updateBannerPrice=e=>{var t;let n;n=this._eligible?this.getContent(e):this.getIneligibleContent();const i=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("#shopify-installments-content");i&&(i.innerHTML=n)},this._monorailTracker=new Ce({elementName:"shop-pay-banner"}),this._modalMonorailTracker=new Ce({elementName:"shopify-installments-modal"}),customElements.get("shopify-installments-modal")||customElements.define("shopify-installments-modal",be),customElements.get("shop-pay-logo")||customElements.define("shop-pay-logo",_),this.attachShadow({mode:"open"}).innerHTML=G}initTranslations(){return o(this,void 0,void 0,(function*(){if(!this._i18n)try{const e=l.getDefaultLanguage(),t={affirm:"Affirm",shopPay:"Shop Pay",banner:{learn_more:"Learn more",view_sample_plans:"View sample plans",prequal:"Check your purchasing power",split_pay_eligible:"Pay in 4 interest-free installments of <b>{price}</b> with {shopPayLogo}",split_pay_eligible_2:"Pay in 2 interest-free installments of <b>{price}</b> with {shopPayLogo}",split_pay_eligible_30:"Pay <b>{price}</b> within 30 days interest-free with {shopPayLogo}",interest_only_eligible:"Split your purchase into monthly installments with {shopPayLogo}",dynamic_interest_only_eligible:"From <b>{price}</b>/mo with {shopPayLogo}",pay_in_4_or_as_low_as_eligible:"4 interest-free installments, or from <b>{price}</b>/mo with {shopPayLogo}",zero_interest_eligible:"From <b>{price}</b>/mo or 0% APR with {shopPayLogo}",zero_interest_eligible_zero_apr:"From <b>{price}</b>/mo at 0% APR with {shopPayLogo}",non_eligible_min:"Pay in 4 interest-free installments for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_min_over_time:"Pay over time for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_min_over_time_30:"Pay within 30 days interest-free for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_monthly_payments_min:"Split your purchase into monthly installments for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_max:"Split your purchase into installments for orders up to <b>{maxPrice}</b> with {shopPayLogo}",prequal_contents:{not_prequalified_see_plans:"Check your purchasing power",prequalified_see_plans:"See plans",purchasing_power_a:"Your purchasing power is ",purchasing_power_b:"Spend any amount up to "}},modal:{title:"Get it now, pay later",subtitle:{interest_and_split_pay:'Choose your payment schedule at checkout &#8211; starting at 4 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 2 weeks.',interest_only:"Choose your payment schedule at checkout to split your purchase into monthly installments.",split_pay_only:'Select installments at checkout to split your purchase into 4 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 2 weeks.',split_pay_only_2:'Select installments at checkout to split your purchase into 2 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 15 days.',split_pay_only_30:"Select installments at checkout to pay for your purchase of <b>{price}</b> interest-free within 30 days.",ineligible_min:"For orders over {minPrice}, select installments at checkout to split your purchase into 4 interest-free payments.",ineligible_min_over_time:"For orders over {minPrice}, select installments at checkout to split your purchase over time.",ineligible_monthly_payments_min:"For orders over {minPrice}, select installments at checkout to split your purchase into monthly payments.",ineligible_max:"For orders up to {maxPrice}, select installments at checkout to split your purchase into multiple payments.",dynamic_pdp:{one:"Sample plan for <b>{priceWithoutInterest}</b> purchase",other:"Sample plans for <b>{priceWithoutInterest}</b> purchase"}},close:"Close",new_window:"Opens in a new window.",partnership:"Installments in partnership with {affirmLogo}",partnership_disclaimer:"Installments in partnership with {affirmLogo}. Translation services are not provided by Affirm. Affirm and its offerings are only supported in English.",split_pay_contents:{interest_fees:"No hidden fees, ever.",interest_credit:"No impact on your credit score to apply.",no_interest_fees:"No fees, ever.",no_interest_credit:"No impact on your credit score to apply."},sample_plan_contents:{continue_to_checkout:"Continue to checkout",unavailable:"Unavailable",check_eligibility:"By continuing, your information will be shared with Affirm. <br/> Checking your qualification won’t affect your credit. ",apr:"APR",interest:"Interest",total:"Total",processing:"Processing your request",processing_time:"This can take up to a minute...",split_pay_frequency:'<b class="list-item__price-per-term">{pricePerTerm}</b>&nbsp;<span class="list-item__frequency"> every 2 weeks</span>',other_frequency:'<b class="list-item__price-per-term">{pricePerTerm}</b>&nbsp;<span class="list-item__frequency"> every month</span>',split_pay_number_of_terms:"&nbsp;for {numberOfTerms} weeks",other_number_of_terms:"&nbsp;for {numberOfTerms} months"},prequal_contents:{unavailable:"Unavailable",check:"Check if you qualify"},legal:{ca_residents_notice:"CA Residents: Loans by Affirm Loan Services, LLC are made or arranged pursuant to a California Finance Lender license.",rates_from_apr:'Rates from 0-36% APR. Payment options through Affirm are subject to an eligibility check, may not be available in all states, and are provided by these lending partners: <a class="help_text__link" href="https://www.affirm.com/licenses" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/lenders</a>. Options depend on your purchase amount, and a down payment may be required.',interest_and_split_pay:"The estimated payment amount excludes taxes and shipping.",split_pay_only:"The estimated payment amount excludes taxes and shipping. Payment options are offered by Affirm and are subject to an eligibility check and might not be available in all states.",ineligible:"Payment options are offered by Affirm and are subject to an eligibility check and might not be available in all states.",dynamic_pdp:'The estimated payment amount excludes taxes and shipping. Rates range from 0-36% APR. Payment options through Shop Pay Installments are subject to an eligibility check and are provided by these lending partners: <a class="help_text__link" href="https://www.affirm.com/lenders" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/lenders</a>. Options depend on your purchase amount, and a down payment may be required. More options may be available upon approval. State notices to consumers: <a class="help_text__link" href="https://www.affirm.com/licenses" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/licenses</a>.'}}};this._i18n=new l({[e]:t})}catch(e){e instanceof Error&&n.notify(e)}}))}attributeChangedCallback(){this._didMount&&this.updateBanner()}connectedCallback(){return o(this,void 0,void 0,(function*(){yield this.initTranslations(),this.updateBanner(),this._didMount=!0}))}updateBanner(){try{const t=this.getAttribute("shopify-meta");if(t){const n=JSON.parse(t);this._backgroundColor=re(this.shadowRoot),Y(n,this._monorailTracker.trackInvalidInstallmentBannerMetadata.bind(this._monorailTracker))&&(n.type===e.Cart?(this._monorailTracker.trackElementImpression(e.Cart),this._metaType=e.Cart,this.handleCartMeta(n)):(this._monorailTracker.trackElementImpression(e.Product),this._metaType=e.Product,this.handleProductMeta(n))),this.updateLearnMoreButtonAndModal()}}catch(e){e instanceof TypeError&&e.message.match(ne)?console.error(e):n.notify(e,{metadata:{component:this._componentMetadata()}}),this._clearShadowRoot()}}updateLearnMoreButtonAndModal(){return o(this,void 0,void 0,(function*(){var e;if(!this._i18n)return;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".shopify-installments__learn-more"),n=y();if(t){t.innerHTML=this._i18n.translate("banner.learn_more"),this._monorailTracker.trackInstallmentsBannerImpression(this._metaType,f.PayInFour,this._eligible,b.CustomizedByMerchant,!1,void 0,this._currentVariantId);const e=()=>o(this,void 0,void 0,(function*(){if(this._pricePerTerm&&!this._open){this._open=!0,this._modalMonorailTracker.trackElementImpression(this._metaType);const e={minPrice:this._minPrice,maxPrice:this._maxPrice},a=new be(this._pricePerTerm,this._eligible,e,this._loanTypes,n,this._modalMonorailTracker,void 0,i.SplitPay);yield a.connectedCallback();const s=new ie(a.focusLockTarget);a.addEventListener("shopify_modal_close",(()=>{this._open=!1,ve(),s.release(t)})),ge(a),this._instrumentMonorailModalOpenEvent(a,this._metaType),s.lock()}}));this._lastLearnMoreEventListener&&t.removeEventListener("click",this._lastLearnMoreEventListener),this._lastLearnMoreEventListener=e,t.addEventListener("click",e)}}))}handleProductMeta(e){this._variants=e.variants,this._minPrice=e.min_price,this._minPriceNumber=le(this._minPrice),this._maxPrice=e.max_price,this._maxPriceNumber=le(this._maxPrice),this._currentVariantId=Number(this.getAttribute("variant-id")),this._pricePerTerm=this.updateVariant(this._currentVariantId),this._numberOfPaymentTerms=e.number_of_payment_terms;const t=this._getProductForm();if(t){const e=(n=0)=>{if(n>4)return;const i=ce(t);i&&(this._currentVariantId===i?setTimeout((()=>{e(n+1)}),100):(this._pricePerTerm=this.updateVariant(i),this._currentVariantId=i,this.updateLearnMoreButtonAndModal()))};this._hasChangeEventListener||(this._hasChangeEventListener=!0,t.addEventListener("change",(()=>{e()})))}}handleCartMeta(e){const t=se();this._minPrice=e.min_price,this._minPriceNumber=le(this._minPrice),this._maxPrice=e.max_price,this._maxPriceNumber=le(this._maxPrice),this._loanTypes=e.available_loan_types,this._eligible=e.eligible,this._pricePerTerm=e.price,this._numberOfPaymentTerms=e.number_of_payment_terms,this.updateBannerPrice(this._pricePerTerm),t||oe();new MutationObserver((e=>{e.forEach((e=>{if(e.target.nodeType!==Node.ELEMENT_NODE)return;const n=e.target;if((n.matches("[data-cart-subtotal]")||t&&n.matches(t))&&n.textContent){const e=le(n.textContent);if(e){this._eligible=this._priceEligible(e);const t=this._splitCartPrice(e);if(t){const e=ae(t);this._pricePerTerm=e,this.updateBannerPrice(e)}}}}))})).observe(document,{attributes:!0,childList:!0,subtree:!0})}_splitCartPrice(e){if(!isNaN(e))return Math.floor(e/this._numberOfPaymentTerms*100)/100}_priceEligible(e){return null!=this._minPriceNumber&&null!=this._maxPriceNumber&&e>=this._minPriceNumber&&e<=this._maxPriceNumber}_instrumentMonorailModalOpenEvent(e,t){this._modalMonorailTracker.trackModalOpened(t,e.getModalToken(),e.getModalType(),JSON.stringify([]),this._currentVariantId,void 0)}_getProductForm(){var e,t,n;return null===(n=null===(t=null===(e=this.shadowRoot)||void 0===e?void 0:e.host.parentNode)||void 0===t?void 0:t.host)||void 0===n?void 0:n.closest("form")}_clearShadowRoot(){this.shadowRoot&&(this.shadowRoot.innerHTML="")}_componentMetadata(){return{name:"shop-pay-banner",shopifyMeta:this.getAttribute("shopify-meta"),variantId:this.getAttribute("variant-id")}}}class Pe extends HTMLElement{constructor(e,t,n,i,a,o,r){var l;super(),this._i18n=null,this._samplePlans=[],this._trackContinueToCheckout=!0,this._initialized=!1,this.handleClose=()=>{this._monorailTracker.trackModalAction(this._modalToken,s.Close,this._permalink);const e=new Event("shopify_modal_close");this.dispatchEvent(e)},this.handleEscKey=e=>{"Escape"!==e.key&&"Esc"!==e.key||this.handleClose()},this.handleContinueToCheckout=()=>{this._trackContinueToCheckout&&this._monorailTracker.trackModalAction(this._modalToken,s.ContinueToCheckout,this._permalink)},this._modalToken=e,this._monorailTracker=t,this._trackContinueToCheckout=null===(l=null==o?void 0:o.available)||void 0===l||l,this._installmentPlans=n,this._priceWithoutInterest=i,this._variantInfo=o,this._cart=r,this._metaType=a}get focusLockTarget(){return this.querySelector("#shopify-payment-terms-modal")}get rootContainer(){return this}connectedCallback(){return o(this,void 0,void 0,(function*(){this._initialized||(yield this._initTranslations(),yield this._initContent(),this._closeButtons=this.querySelectorAll(".btn__close"),this._closeButtons&&0!==this._closeButtons.length&&(this._closeButtons.forEach((e=>e.addEventListener("click",this.handleClose))),this._closeButtons[0].focus(),this._continueToCheckoutButton&&this._continueToCheckoutButton.addEventListener("click",this.handleContinueToCheckout),window.addEventListener("keydown",this.handleEscKey),this._initialized=!0))}))}disconnectedCallback(){this._closeButtons&&(this._closeButtons.forEach((e=>e.removeEventListener("click",this.handleClose))),this._continueToCheckoutButton&&this._continueToCheckoutButton.removeEventListener("click",this.handleContinueToCheckout),window.removeEventListener("keydown",this.handleEscKey))}getModalSamplePlans(){return this._samplePlans}getPermalink(){return this._permalink}getModalToken(){return this._modalToken}getModalType(){var e,t,n,i;if(null===(e=this._samplePlans)||void 0===e?void 0:e.some((e=>0===e.apr&&e.loanType===a.Interest))){return(null===(t=this._samplePlans)||void 0===t?void 0:t.every((e=>0===e.apr)))?r.ZeroInterestOnly:r.ZeroInterest}return(null===(n=this._samplePlans)||void 0===n?void 0:n.some((e=>e.loanType===a.SplitPay)))&&(null===(i=this._samplePlans)||void 0===i?void 0:i.some((e=>e.loanType===a.Interest)))?r.Adaptive:r.InterestOnly}getButtonText(){var e;return this._i18n?!1===(null===(e=this._variantInfo)||void 0===e?void 0:e.available)?this._i18n.translate("modal.sample_plan_contents.unavailable"):this._i18n.translate("modal.sample_plan_contents.continue_to_checkout"):""}_initTranslations(){return o(this,void 0,void 0,(function*(){if(!this._i18n)try{const e=l.getDefaultLanguage(),t={affirm:"Affirm",shopPay:"Shop Pay",banner:{learn_more:"Learn more",view_sample_plans:"View sample plans",prequal:"Check your purchasing power",split_pay_eligible:"Pay in 4 interest-free installments of <b>{price}</b> with {shopPayLogo}",split_pay_eligible_2:"Pay in 2 interest-free installments of <b>{price}</b> with {shopPayLogo}",split_pay_eligible_30:"Pay <b>{price}</b> within 30 days interest-free with {shopPayLogo}",interest_only_eligible:"Split your purchase into monthly installments with {shopPayLogo}",dynamic_interest_only_eligible:"From <b>{price}</b>/mo with {shopPayLogo}",pay_in_4_or_as_low_as_eligible:"4 interest-free installments, or from <b>{price}</b>/mo with {shopPayLogo}",zero_interest_eligible:"From <b>{price}</b>/mo or 0% APR with {shopPayLogo}",zero_interest_eligible_zero_apr:"From <b>{price}</b>/mo at 0% APR with {shopPayLogo}",non_eligible_min:"Pay in 4 interest-free installments for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_min_over_time:"Pay over time for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_min_over_time_30:"Pay within 30 days interest-free for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_monthly_payments_min:"Split your purchase into monthly installments for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_max:"Split your purchase into installments for orders up to <b>{maxPrice}</b> with {shopPayLogo}",prequal_contents:{not_prequalified_see_plans:"Check your purchasing power",prequalified_see_plans:"See plans",purchasing_power_a:"Your purchasing power is ",purchasing_power_b:"Spend any amount up to "}},modal:{title:"Get it now, pay later",subtitle:{interest_and_split_pay:'Choose your payment schedule at checkout &#8211; starting at 4 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 2 weeks.',interest_only:"Choose your payment schedule at checkout to split your purchase into monthly installments.",split_pay_only:'Select installments at checkout to split your purchase into 4 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 2 weeks.',split_pay_only_2:'Select installments at checkout to split your purchase into 2 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 15 days.',split_pay_only_30:"Select installments at checkout to pay for your purchase of <b>{price}</b> interest-free within 30 days.",ineligible_min:"For orders over {minPrice}, select installments at checkout to split your purchase into 4 interest-free payments.",ineligible_min_over_time:"For orders over {minPrice}, select installments at checkout to split your purchase over time.",ineligible_monthly_payments_min:"For orders over {minPrice}, select installments at checkout to split your purchase into monthly payments.",ineligible_max:"For orders up to {maxPrice}, select installments at checkout to split your purchase into multiple payments.",dynamic_pdp:{one:"Sample plan for <b>{priceWithoutInterest}</b> purchase",other:"Sample plans for <b>{priceWithoutInterest}</b> purchase"}},close:"Close",new_window:"Opens in a new window.",partnership:"Installments in partnership with {affirmLogo}",partnership_disclaimer:"Installments in partnership with {affirmLogo}. Translation services are not provided by Affirm. Affirm and its offerings are only supported in English.",split_pay_contents:{interest_fees:"No hidden fees, ever.",interest_credit:"No impact on your credit score to apply.",no_interest_fees:"No fees, ever.",no_interest_credit:"No impact on your credit score to apply."},sample_plan_contents:{continue_to_checkout:"Continue to checkout",unavailable:"Unavailable",check_eligibility:"By continuing, your information will be shared with Affirm. <br/> Checking your qualification won’t affect your credit. ",apr:"APR",interest:"Interest",total:"Total",processing:"Processing your request",processing_time:"This can take up to a minute...",split_pay_frequency:'<b class="list-item__price-per-term">{pricePerTerm}</b>&nbsp;<span class="list-item__frequency"> every 2 weeks</span>',other_frequency:'<b class="list-item__price-per-term">{pricePerTerm}</b>&nbsp;<span class="list-item__frequency"> every month</span>',split_pay_number_of_terms:"&nbsp;for {numberOfTerms} weeks",other_number_of_terms:"&nbsp;for {numberOfTerms} months"},prequal_contents:{unavailable:"Unavailable",check:"Check if you qualify"},legal:{ca_residents_notice:"CA Residents: Loans by Affirm Loan Services, LLC are made or arranged pursuant to a California Finance Lender license.",rates_from_apr:'Rates from 0-36% APR. Payment options through Affirm are subject to an eligibility check, may not be available in all states, and are provided by these lending partners: <a class="help_text__link" href="https://www.affirm.com/licenses" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/lenders</a>. Options depend on your purchase amount, and a down payment may be required.',interest_and_split_pay:"The estimated payment amount excludes taxes and shipping.",split_pay_only:"The estimated payment amount excludes taxes and shipping. Payment options are offered by Affirm and are subject to an eligibility check and might not be available in all states.",ineligible:"Payment options are offered by Affirm and are subject to an eligibility check and might not be available in all states.",dynamic_pdp:'The estimated payment amount excludes taxes and shipping. Rates range from 0-36% APR. Payment options through Shop Pay Installments are subject to an eligibility check and are provided by these lending partners: <a class="help_text__link" href="https://www.affirm.com/lenders" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/lenders</a>. Options depend on your purchase amount, and a down payment may be required. More options may be available upon approval. State notices to consumers: <a class="help_text__link" href="https://www.affirm.com/licenses" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/licenses</a>.'}}};this._i18n=new l({[e]:t})}catch(e){e instanceof Error&&n.notify(e)}}))}_initContent(){return o(this,void 0,void 0,(function*(){if(!this._i18n)return;const t=document.createElement("template");this._samplePlans=me(this._installmentPlans,this._priceWithoutInterest);const{subTitle:n,legalCopy:i}=he(this._i18n,this._samplePlans.length,this._priceWithoutInterest);t.innerHTML=de(this._i18n,n,i,this._samplePlans),this.appendChild(t.content.cloneNode(!0));const a=this.getElementsByClassName("navigation-buttons")[0];if(this._metaType===e.Checkout){const e=this.getElementsByClassName("check_eligibility")[0];return a.classList.add("hidden-navigation-buttons"),void e.classList.add("hidden-navigation-buttons")}const s=this.getButtonText();a.innerHTML=ue(window.location.origin,this._modalToken,s,this._variantInfo,this._cart),this._continueToCheckoutButton=a.querySelector("shop-pay-button"),this._permalink=this._cart?this._cart.token:g({storeUrl:window.location.origin,variants:this._variantInfo?v(this._variantInfo.idQuantityMapping):[],paymentOption:C.ShopPayInstallments,source:"installments_modal",sourceToken:this._modalToken})}))}}var ke,Te,Le,xe,Ie,Se,qe,Me,Ee,Ae,Be;class Fe extends HTMLElement{constructor(e,t,n,i,a,o,r,l,c,p){super(),ke.add(this),this._samplePlans=[],this._authorizeModalOpened=!1,this._nextState=P.AuthorizeLoaded,this._i18n=null,this._initialized=!1,this.handleClose=()=>{this._monorailTracker.trackModalAction(this._modalToken,s.Close,this._permalink);const e=new Event("shopify_modal_close");this.dispatchEvent(e);const t=document.querySelector(".prequal");t&&document.body.removeChild(t),this._closePrequalBuyerFormOverlay()},this.handleEscKey=e=>{"Escape"!==e.key&&"Esc"!==e.key||!this._authorizeModalOpened?"Escape"!==e.key&&"Esc"!==e.key||this.handleClose():this._closeAuthorizeModal()},this.handleOverlayClose=()=>{var e;null===(e=document.querySelector("installments-prequal-overlay-modal"))||void 0===e||e.remove()},this.handleBuyerOnboardingSuccess=()=>{this.handleOverlayClose(),this._openFeatureIframe()},this.handlePrequalFlowSideEffect=e=>{this._prequalSideEffectEventReceived=!0;e.detail.shopPayInstallmentsOnboarded?this._nextState=P.ResultsPageLoaded:this._nextState=P.BuyerFormOverlayLoaded,this._completedEventReceived&&(this.removeCheckIfYouQualifyButtonLoading(),this.handleLoginCompleted())},this.handleLoginCompleted=()=>{if(this._completedEventReceived=!0,this._prequalSideEffectEventReceived)switch(this._nextState){case P.ResultsPageLoaded:this._openFeatureIframe();break;case P.BuyerFormOverlayLoaded:this._openPrequalBuyerFormOverlay()}else this.addCheckIfYouQualifyButtonLoading()},this.handleLoginModalOpened=()=>{this.removeCheckIfYouQualifyButtonLoading()},this.addCheckIfYouQualifyButtonLoading=()=>{this._contentStatusIndicator=k(T.Branded),this._contentStatusIndicator.classList.add("shop-status-indicator-loading"),this._navigationButtons.querySelector("shop-pay-button").classList.add("prequal-hidden-state"),this._navigationButtons.appendChild(this._contentStatusIndicator),this._contentStatusIndicator.connectedCallback(),this._contentStatusIndicator.setStatus({status:"loading",message:""})},this.removeCheckIfYouQualifyButtonLoading=()=>{this._contentStatusIndicator&&(this._navigationButtons.querySelector("shop-pay-button").classList.remove("prequal-hidden-state"),this._navigationButtons.removeChild(this._contentStatusIndicator))},this._modalToken=e,this._monorailTracker=t,this._analyticsTraceId=p||this.getAttribute(L)||x(),this._variantInfo=l,this._cart=c,this._loanTypes=n,this._eligible=i,this._productAmount=le(o),this._sellerId=r,this._installmentsPlans=a,this._priceWithoutInterest=o,this.attachShadow({mode:"open",delegatesFocus:!0})}get focusLockTarget(){return this.rootContainer.querySelector("#shopify-payment-terms-modal")}get rootContainer(){return this.shadowRoot}destroyIframe(){var e;null===(e=this._iframeMessageListener)||void 0===e||e.destroy()}connectedCallback(){return o(this,void 0,void 0,(function*(){this._initialized||(yield this._initTranslations(),yield this._initContent(),I(this,ke,"m",Le).call(this),window.addEventListener("keydown",this.handleEscKey),this.addOverlayEventListeners())}))}addOverlayEventListeners(){window.addEventListener("overlayClose",this.handleOverlayClose),window.addEventListener("buyerOnboardingSuccess",this.handleBuyerOnboardingSuccess),window.addEventListener("closeOverlayAndModal",(()=>{this.handleOverlayClose(),this.handleClose()})),this._initialized=!0}disconnectedCallback(){this._closeAuthorizeModal(),this._closeButtons&&(this._closeButtons.forEach((e=>e.removeEventListener("click",this.handleClose))),window.removeEventListener("keydown",this.handleEscKey),this.destroyIframe())}handlePostMessage(e){var t;switch(e.type){case"prequal_ready":null===(t=this._iframeMessenger)||void 0===t||t.postMessage({type:"createprequal",amount:this._productAmount,currency:"USD",sellerId:Number(this._sellerId)});break;case"prequal_success":case"prequal_error":this._showFeatureIframe();break;case"prequal_missing_information":this._showMainContent(),this._openPrequalBuyerFormOverlay();break;case"close":this.handleClose();break;case"continue_to_checkout":this._continueToCheckout();break;case"resize_iframe":this._iframe.style.height=e.height<this.getContentModalHeight()?`${this.getContentModalHeight()}px`:`${e.height}px`,this._iframe.style.width="100%"}}getModalSamplePlans(){return this._samplePlans}getPermalink(){return this._permalink}getModalToken(){return this._modalToken}getContentModalHeight(){return window.innerHeight-75<642?window.innerHeight-75:642}getModalType(){var e,t,n,i,s;if(!(null===(e=this._loanTypes)||void 0===e?void 0:e.length)||!this._eligible)return r.Ineligible;if(null===(t=this._samplePlans)||void 0===t?void 0:t.some((e=>0===e.apr&&e.loanType===a.Interest))){return(null===(n=this._samplePlans)||void 0===n?void 0:n.every((e=>0===e.apr)))?r.ZeroInterestOnly:r.ZeroInterest}return(null===(i=this._samplePlans)||void 0===i?void 0:i.some((e=>e.loanType===a.SplitPay)))&&(null===(s=this._samplePlans)||void 0===s?void 0:s.some((e=>e.loanType===a.Interest)))?r.Adaptive:r.InterestOnly}_openFeatureIframe(){if(this._iframe)return;this._contentStatusIndicator=k(T.Large);const e=this._contentProcessingWrapper.querySelector(".shop-modal-content-processing-loading-container");null==e||e.insertBefore(this._contentStatusIndicator,e.firstChild),this._contentStatusIndicator.setStatus({status:"loading",message:""});const t=(e=>{const t=w.replace("https://","");return`${w}/pay/installments/prequalifications/authorize?shopify_domain=${window.location.hostname}&pay_domain=${t}&analytics_trace_id=${e}&redirect_source=${window.location.origin}`})(this._analyticsTraceId);this._iframe=document.createElement("iframe"),this._iframe.style.border="none",this._iframe.src=t,this._featureIframeWrapper.appendChild(this._iframe),this._showLoadingState(),this._iframeMessageListener||(this._iframeMessageListener=this.createListener(new S(this._iframe))),this._iframeMessenger||(this._iframeMessenger=new q(this._iframe))}createListener(e){var t;const n=(null===(t=this.ownerDocument)||void 0===t?void 0:t.defaultView)||void 0;return new M(e,[w,E,window.location.origin],this.handlePostMessage.bind(this),n)}_getSellerIdInNumber(){return this._sellerId?Number.parseInt(this._sellerId,10):void 0}_continueToCheckout(){var e;const t=this.rootContainer.querySelector("shop-pay-button").shadowRoot,n=null==t?void 0:t.querySelector("shop-pay-button-base"),i=null===(e=null==n?void 0:n.shadowRoot)||void 0===e?void 0:e.querySelector("#shop-pay-button-link");null==i||i.dispatchEvent(new MouseEvent("click")),null==n||n.dispatchEvent(new Event("click")),this._monorailTracker.trackInstallmentsPrequalPopupPageImpression(this._getSellerIdInNumber(),P.ContinueToCheckoutClicked)}_openPrequalBuyerFormOverlay(){if(document.querySelector(".prequal-buyer-form-overlay"))return;const e=document.createElement("installments-prequal-overlay-modal");e.classList.add("prequal-buyer-form-overlay"),document.body.appendChild(e),this._monorailTracker.trackInstallmentsPrequalPopupPageImpression(this._getSellerIdInNumber(),P.BuyerFormOverlayLoaded)}_closePrequalBuyerFormOverlay(){const e=document.querySelector(".prequal-buyer-form-overlay");e&&document.body.removeChild(e)}_openAuthorizeModal(){const e=document.querySelector(".prequal");(null==e?void 0:e.requestShow)||n.notify(new Error(`shopLoginButton.requestShow is not defined: ${e}`)),null==e||e.requestShow(""),this._authorizeModalOpened=!0,this._monorailTracker.trackInstallmentsPrequalPopupPageImpression(this._getSellerIdInNumber(),P.AuthorizeLoaded)}_closeAuthorizeModal(){this._authorizeModalOpened=!1}_showLoadingState(){I(this,ke,"m",Te).call(this,"400px"),this._contentProcessingWrapper.classList.remove("prequal-hidden-state"),this._featureIframeWrapper.classList.add("prequal-hidden-state"),this._contentModalWrapper.classList.add("opaque-hidden"),this._monorailTracker.trackInstallmentsPrequalPopupPageImpression(this._getSellerIdInNumber(),P.ResultsPageLoading)}_showFeatureIframe(){var e,t,n,i;I(this,ke,"m",Te).call(this,""),this._contentModalWrapper.classList.add("prequal-hidden-state"),this._contentProcessingWrapper.classList.add("prequal-hidden-state"),this._featureIframeWrapper.classList.remove("prequal-hidden-state"),this._continueToCheckoutContainer.innerHTML=(e=window.location.origin,t=this._modalToken,n=this._variantInfo,i=this._cart,`\n <shop-pay-button style="width: 100%; height: 50px; --shop-pay-button-width: auto;" store-url="${e}" ${void 0===n?"":`variants="${n.idQuantityMapping}" ${!1===n.available?"disabled":""}`} button-text="" class="shop-pay-continue-to-checkout-button" payment-option="shop_pay_installments" source="installments_modal" source-token="${t}" redirect-source="installments_modal" ${void 0===i?"":`cart=${encodeURIComponent(JSON.stringify({currency:i.currency,items:i.items,token:i.token}))}`}></shop-pay-button>\n`)}_showMainContent(){this._contentModalWrapper.classList.remove("opaque-hidden"),this._contentProcessingWrapper.classList.add("prequal-hidden-state"),this._featureIframeWrapper.classList.add("prequal-hidden-state")}getButtonText(e){return this._i18n?!1===(null==e?void 0:e.available)?this._i18n.translate("modal.prequal_contents.unavailable"):this._i18n.translate("modal.prequal_contents.check"):""}_initTranslations(){return o(this,void 0,void 0,(function*(){if(!this._i18n)try{const e=l.getDefaultLanguage(),t={affirm:"Affirm",shopPay:"Shop Pay",banner:{learn_more:"Learn more",view_sample_plans:"View sample plans",prequal:"Check your purchasing power",split_pay_eligible:"Pay in 4 interest-free installments of <b>{price}</b> with {shopPayLogo}",split_pay_eligible_2:"Pay in 2 interest-free installments of <b>{price}</b> with {shopPayLogo}",split_pay_eligible_30:"Pay <b>{price}</b> within 30 days interest-free with {shopPayLogo}",interest_only_eligible:"Split your purchase into monthly installments with {shopPayLogo}",dynamic_interest_only_eligible:"From <b>{price}</b>/mo with {shopPayLogo}",pay_in_4_or_as_low_as_eligible:"4 interest-free installments, or from <b>{price}</b>/mo with {shopPayLogo}",zero_interest_eligible:"From <b>{price}</b>/mo or 0% APR with {shopPayLogo}",zero_interest_eligible_zero_apr:"From <b>{price}</b>/mo at 0% APR with {shopPayLogo}",non_eligible_min:"Pay in 4 interest-free installments for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_min_over_time:"Pay over time for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_min_over_time_30:"Pay within 30 days interest-free for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_monthly_payments_min:"Split your purchase into monthly installments for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_max:"Split your purchase into installments for orders up to <b>{maxPrice}</b> with {shopPayLogo}",prequal_contents:{not_prequalified_see_plans:"Check your purchasing power",prequalified_see_plans:"See plans",purchasing_power_a:"Your purchasing power is ",purchasing_power_b:"Spend any amount up to "}},modal:{title:"Get it now, pay later",subtitle:{interest_and_split_pay:'Choose your payment schedule at checkout &#8211; starting at 4 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 2 weeks.',interest_only:"Choose your payment schedule at checkout to split your purchase into monthly installments.",split_pay_only:'Select installments at checkout to split your purchase into 4 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 2 weeks.',split_pay_only_2:'Select installments at checkout to split your purchase into 2 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 15 days.',split_pay_only_30:"Select installments at checkout to pay for your purchase of <b>{price}</b> interest-free within 30 days.",ineligible_min:"For orders over {minPrice}, select installments at checkout to split your purchase into 4 interest-free payments.",ineligible_min_over_time:"For orders over {minPrice}, select installments at checkout to split your purchase over time.",ineligible_monthly_payments_min:"For orders over {minPrice}, select installments at checkout to split your purchase into monthly payments.",ineligible_max:"For orders up to {maxPrice}, select installments at checkout to split your purchase into multiple payments.",dynamic_pdp:{one:"Sample plan for <b>{priceWithoutInterest}</b> purchase",other:"Sample plans for <b>{priceWithoutInterest}</b> purchase"}},close:"Close",new_window:"Opens in a new window.",partnership:"Installments in partnership with {affirmLogo}",partnership_disclaimer:"Installments in partnership with {affirmLogo}. Translation services are not provided by Affirm. Affirm and its offerings are only supported in English.",split_pay_contents:{interest_fees:"No hidden fees, ever.",interest_credit:"No impact on your credit score to apply.",no_interest_fees:"No fees, ever.",no_interest_credit:"No impact on your credit score to apply."},sample_plan_contents:{continue_to_checkout:"Continue to checkout",unavailable:"Unavailable",check_eligibility:"By continuing, your information will be shared with Affirm. <br/> Checking your qualification won’t affect your credit. ",apr:"APR",interest:"Interest",total:"Total",processing:"Processing your request",processing_time:"This can take up to a minute...",split_pay_frequency:'<b class="list-item__price-per-term">{pricePerTerm}</b>&nbsp;<span class="list-item__frequency"> every 2 weeks</span>',other_frequency:'<b class="list-item__price-per-term">{pricePerTerm}</b>&nbsp;<span class="list-item__frequency"> every month</span>',split_pay_number_of_terms:"&nbsp;for {numberOfTerms} weeks",other_number_of_terms:"&nbsp;for {numberOfTerms} months"},prequal_contents:{unavailable:"Unavailable",check:"Check if you qualify"},legal:{ca_residents_notice:"CA Residents: Loans by Affirm Loan Services, LLC are made or arranged pursuant to a California Finance Lender license.",rates_from_apr:'Rates from 0-36% APR. Payment options through Affirm are subject to an eligibility check, may not be available in all states, and are provided by these lending partners: <a class="help_text__link" href="https://www.affirm.com/licenses" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/lenders</a>. Options depend on your purchase amount, and a down payment may be required.',interest_and_split_pay:"The estimated payment amount excludes taxes and shipping.",split_pay_only:"The estimated payment amount excludes taxes and shipping. Payment options are offered by Affirm and are subject to an eligibility check and might not be available in all states.",ineligible:"Payment options are offered by Affirm and are subject to an eligibility check and might not be available in all states.",dynamic_pdp:'The estimated payment amount excludes taxes and shipping. Rates range from 0-36% APR. Payment options through Shop Pay Installments are subject to an eligibility check and are provided by these lending partners: <a class="help_text__link" href="https://www.affirm.com/lenders" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/lenders</a>. Options depend on your purchase amount, and a down payment may be required. More options may be available upon approval. State notices to consumers: <a class="help_text__link" href="https://www.affirm.com/licenses" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/licenses</a>.'}}};this._i18n=new l({[e]:t})}catch(e){e instanceof Error&&n.notify(e)}}))}_initContent(){return o(this,void 0,void 0,(function*(){if(!this._i18n)return;const e=document.createElement("template");this._samplePlans=me(this._installmentsPlans,this._priceWithoutInterest);const{subTitle:t,legalCopy:n}=he(this._i18n,this._samplePlans.length,this._priceWithoutInterest);e.innerHTML=de(this._i18n,t,n,this._samplePlans),this.rootContainer.innerHTML="",this.rootContainer.appendChild(e.content.cloneNode(!0)),this._contentProcessingWrapper=this.rootContainer.querySelector(".shop-modal-content-processing"),this._contentModalWrapper=this.rootContainer.querySelector(".modal-wrapper"),this._featureIframeWrapper=this.rootContainer.querySelector(".shop-modal-feature-iframe-wrapper"),this._navigationButtons=this.rootContainer.querySelectorAll(".navigation-buttons")[0],this._continueToCheckoutContainer=this.rootContainer.querySelectorAll(".continue-to-checkout-button")[0],this._permalink=this._cart?this._cart.token:g({storeUrl:window.location.origin,variants:this._variantInfo?v(this._variantInfo.idQuantityMapping):[],paymentOption:C.ShopPayInstallments,source:"installments_modal",sourceToken:this._modalToken})}))}}ke=new WeakSet,Te=function(e){const t=new CustomEvent(c,{detail:{height:e,lockScroll:""!==e},bubbles:!0});this.dispatchEvent(t)},Le=function(){const e=this.getButtonText(this._variantInfo);this._navigationButtons.innerHTML=ue("",this._modalToken,e,this._variantInfo,this._cart);const t=this._navigationButtons.querySelector("shop-pay-button"),i=t.shadowRoot,a=null==i?void 0:i.querySelector("#shop-pay-button-link");null==a||a.setAttribute("href","#");const s=document.createElement("shop-login-button");s.setAttribute("action",A.Prequal),s.setAttribute("client-id",""),s.setAttribute("version","2"),s.setAttribute("analytics-context",B.Prequal),s.setAttribute("analytics-trace-id",this._analyticsTraceId),s.setAttribute("hide-button","true"),s.classList.add("prequal"),s.setAttribute("anchor-to","shop-pay-button"),document.body.appendChild(s),t.addEventListener("click",(()=>{switch(this.addCheckIfYouQualifyButtonLoading(),this._nextState){case P.AuthorizeLoaded:const e=document.querySelector(".prequal");(null==e?void 0:e.requestShow)||n.notify(new Error("checkIfYouQualifyButton clicked: shopLoginButton.requestShow is not defined")),this._openAuthorizeModal();break;case P.BuyerFormOverlayLoaded:this.removeCheckIfYouQualifyButtonLoading(),this._openPrequalBuyerFormOverlay();break;case P.ResultsPageLoaded:this.removeCheckIfYouQualifyButtonLoading(),this._openFeatureIframe()}})),s.addEventListener("completed",this.handleLoginCompleted),s.addEventListener("prequal_flow_side_effect",this.handlePrequalFlowSideEffect),s.addEventListener("modalopened",this.handleLoginModalOpened),this._closeButtons=this.rootContainer.querySelectorAll(".btn__close"),this._closeButtons&&0!==this._closeButtons.length&&(this._closeButtons.forEach((e=>e.addEventListener("click",this.handleClose))),this._closeButtons[0].focus())};class Oe extends HTMLElement{static get observedAttributes(){return["variant-id","shopify-meta"]}constructor(){super(),xe.add(this),this._minPrice="$50",this._maxPrice="$3000",this._open=!1,this._eligible=!1,this._numberOfPaymentTerms=4,this._hasChangeEventListener=!1,this._loanTypes=[],this._lastLearnMoreEventListener=new WeakMap,this._metaType=e.Product,this._backgroundColor="",this._didMount=!1,this._variantAvailable=!0,this._i18n=null,this.getContent=t=>{if(!this._i18n)return"";if(this._metaType===e.Checkout)return"";const n=X(this._backgroundColor);if(!this._loanTypes.length)return this.getIneligibleContent();if(this._financingTermForBanner&&this._hasZeroInterestLoanType()){return 0===this._financingTermForBanner.apr?this._i18n.translate("banner.zero_interest_eligible_zero_apr",{price:t,shopPayLogo:n}):this._i18n.translate("banner.zero_interest_eligible",{price:t,shopPayLogo:n})}if(this._financingTermForBanner&&this.isInAdaptiveRangeWithoutZeroInterest())return this._i18n.translate("banner.pay_in_4_or_as_low_as_eligible",{price:t,shopPayLogo:n});if(this._loanTypes.includes(a.SplitPay)){let e="banner.split_pay_eligible";return 2===this._numberOfPaymentTerms?e="banner.split_pay_eligible_2":1===this._numberOfPaymentTerms&&(e="banner.split_pay_eligible_30"),this._i18n.translate(e,{price:t,shopPayLogo:n})}return this._loanTypes.includes(a.Interest)?this._i18n.translate("banner.dynamic_interest_only_eligible",{price:t,shopPayLogo:n}):this.getIneligibleContent()},this.getIneligibleContent=()=>{if(!this._i18n)return"";const e=X(this._backgroundColor);let t="banner.non_eligible_min";this._minIneligibleMessageType===i.Monthly?t="banner.non_eligible_monthly_payments_min":2===this._numberOfPaymentTerms?t="banner.non_eligible_min_over_time":1===this._numberOfPaymentTerms&&(t="banner.non_eligible_min_over_time_30");const n=this._i18n.translate(t,{minPrice:this._minPrice,shopPayLogo:e});if(!this._fullPrice)return n;return le(this._fullPrice)>le(this._maxPrice)?this._i18n.translate("banner.non_eligible_max",{maxPrice:this._maxPrice,shopPayLogo:e}):n},this.updatePDPVariant=(e,t)=>{var n;const i=null===(n=this._variants)||void 0===n?void 0:n.find((t=>Number(t.id)===e));if(!i||!i.full_price)return this._eligible=!1,this._loanTypes=[],this.updateBannerPrice(),"";this._eligible=i.eligible,this._loanTypes=this._getAvailableLoanTypes(i.full_price,t),this._variantAvailable=i.available;const s=le(i.full_price),o=this._getFinancingPlanForPrice(s,t);if(!o)return this.updateBannerPrice(i.price_per_term),i.price_per_term;if(this._financingTermForBanner=this._getFinancingTermForBanner(o),this._financingTermForBanner.loan_type===a.SplitPay)return this.updateBannerPrice(i.price_per_term),i.price_per_term;const r=this.calculatePricePerTerm(s,this._financingTermForBanner);return this.updateBannerPrice(r),r},this.calculatePricePerTerm=(e,t)=>{const n=t.apr/1200,i=t.installments_count;if(0===n)return ae(e/i);return ae(e*n*Math.pow(1+n,i)/(Math.pow(1+n,i)-1))},this.updateBannerPrice=t=>{var n,i;let a;if(a=this._eligible&&t?this.getContent(t):this.getIneligibleContent(),this._metaType===e.Checkout){const e=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector("#shopify-installments");null==e||e.classList.add("shopify-installments__inline")}const s=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector("#shopify-installments-content");s&&(s.innerHTML=a)},this._analyticsTraceId=y(),this._monorailTracker=new Ce({elementName:"shop-pay-installments-banner",analyticsTraceId:this._analyticsTraceId}),this._modalMonorailTracker=new Ce({elementName:"shopify-installments-modal",analyticsTraceId:this._analyticsTraceId}),customElements.get("shopify-installments-modal")||customElements.define("shopify-installments-modal",be),customElements.get("shopify-installments-sample-plans-modal")||customElements.define("shopify-installments-sample-plans-modal",Pe),customElements.get("shopify-installments-prequal-modal")||customElements.define("shopify-installments-prequal-modal",Fe),customElements.get("shop-pay-logo")||customElements.define("shop-pay-logo",_),this.attachShadow({mode:"open"}).innerHTML=G}initTranslations(){return o(this,void 0,void 0,(function*(){if(!this._i18n)try{const e=l.getDefaultLanguage(),t={affirm:"Affirm",shopPay:"Shop Pay",banner:{learn_more:"Learn more",view_sample_plans:"View sample plans",prequal:"Check your purchasing power",split_pay_eligible:"Pay in 4 interest-free installments of <b>{price}</b> with {shopPayLogo}",split_pay_eligible_2:"Pay in 2 interest-free installments of <b>{price}</b> with {shopPayLogo}",split_pay_eligible_30:"Pay <b>{price}</b> within 30 days interest-free with {shopPayLogo}",interest_only_eligible:"Split your purchase into monthly installments with {shopPayLogo}",dynamic_interest_only_eligible:"From <b>{price}</b>/mo with {shopPayLogo}",pay_in_4_or_as_low_as_eligible:"4 interest-free installments, or from <b>{price}</b>/mo with {shopPayLogo}",zero_interest_eligible:"From <b>{price}</b>/mo or 0% APR with {shopPayLogo}",zero_interest_eligible_zero_apr:"From <b>{price}</b>/mo at 0% APR with {shopPayLogo}",non_eligible_min:"Pay in 4 interest-free installments for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_min_over_time:"Pay over time for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_min_over_time_30:"Pay within 30 days interest-free for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_monthly_payments_min:"Split your purchase into monthly installments for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_max:"Split your purchase into installments for orders up to <b>{maxPrice}</b> with {shopPayLogo}",prequal_contents:{not_prequalified_see_plans:"Check your purchasing power",prequalified_see_plans:"See plans",purchasing_power_a:"Your purchasing power is ",purchasing_power_b:"Spend any amount up to "}},modal:{title:"Get it now, pay later",subtitle:{interest_and_split_pay:'Choose your payment schedule at checkout &#8211; starting at 4 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 2 weeks.',interest_only:"Choose your payment schedule at checkout to split your purchase into monthly installments.",split_pay_only:'Select installments at checkout to split your purchase into 4 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 2 weeks.',split_pay_only_2:'Select installments at checkout to split your purchase into 2 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 15 days.',split_pay_only_30:"Select installments at checkout to pay for your purchase of <b>{price}</b> interest-free within 30 days.",ineligible_min:"For orders over {minPrice}, select installments at checkout to split your purchase into 4 interest-free payments.",ineligible_min_over_time:"For orders over {minPrice}, select installments at checkout to split your purchase over time.",ineligible_monthly_payments_min:"For orders over {minPrice}, select installments at checkout to split your purchase into monthly payments.",ineligible_max:"For orders up to {maxPrice}, select installments at checkout to split your purchase into multiple payments.",dynamic_pdp:{one:"Sample plan for <b>{priceWithoutInterest}</b> purchase",other:"Sample plans for <b>{priceWithoutInterest}</b> purchase"}},close:"Close",new_window:"Opens in a new window.",partnership:"Installments in partnership with {affirmLogo}",partnership_disclaimer:"Installments in partnership with {affirmLogo}. Translation services are not provided by Affirm. Affirm and its offerings are only supported in English.",split_pay_contents:{interest_fees:"No hidden fees, ever.",interest_credit:"No impact on your credit score to apply.",no_interest_fees:"No fees, ever.",no_interest_credit:"No impact on your credit score to apply."},sample_plan_contents:{continue_to_checkout:"Continue to checkout",unavailable:"Unavailable",check_eligibility:"By continuing, your information will be shared with Affirm. <br/> Checking your qualification won’t affect your credit. ",apr:"APR",interest:"Interest",total:"Total",processing:"Processing your request",processing_time:"This can take up to a minute...",split_pay_frequency:'<b class="list-item__price-per-term">{pricePerTerm}</b>&nbsp;<span class="list-item__frequency"> every 2 weeks</span>',other_frequency:'<b class="list-item__price-per-term">{pricePerTerm}</b>&nbsp;<span class="list-item__frequency"> every month</span>',split_pay_number_of_terms:"&nbsp;for {numberOfTerms} weeks",other_number_of_terms:"&nbsp;for {numberOfTerms} months"},prequal_contents:{unavailable:"Unavailable",check:"Check if you qualify"},legal:{ca_residents_notice:"CA Residents: Loans by Affirm Loan Services, LLC are made or arranged pursuant to a California Finance Lender license.",rates_from_apr:'Rates from 0-36% APR. Payment options through Affirm are subject to an eligibility check, may not be available in all states, and are provided by these lending partners: <a class="help_text__link" href="https://www.affirm.com/licenses" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/lenders</a>. Options depend on your purchase amount, and a down payment may be required.',interest_and_split_pay:"The estimated payment amount excludes taxes and shipping.",split_pay_only:"The estimated payment amount excludes taxes and shipping. Payment options are offered by Affirm and are subject to an eligibility check and might not be available in all states.",ineligible:"Payment options are offered by Affirm and are subject to an eligibility check and might not be available in all states.",dynamic_pdp:'The estimated payment amount excludes taxes and shipping. Rates range from 0-36% APR. Payment options through Shop Pay Installments are subject to an eligibility check and are provided by these lending partners: <a class="help_text__link" href="https://www.affirm.com/lenders" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/lenders</a>. Options depend on your purchase amount, and a down payment may be required. More options may be available upon approval. State notices to consumers: <a class="help_text__link" href="https://www.affirm.com/licenses" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/licenses</a>.'}}};this._i18n=new l({[e]:t})}catch(e){e instanceof Error&&n.notify(e)}}))}attributeChangedCallback(){this._didMount&&this.updateBanner()}connectedCallback(){return o(this,void 0,void 0,(function*(){yield this.initTranslations(),this.updateBanner(),this._didMount=!0}))}isInAdaptiveRangeWithoutZeroInterest(){return this._eligible&&!this._hasZeroInterestLoanType()&&2===this._loanTypes.length&&this._loanTypes.includes(a.SplitPay)&&this._loanTypes.includes(a.Interest)}updateBanner(){try{const n=this.getAttribute("shopify-meta");if(n){const s=JSON.parse(n);this._backgroundColor=re(this.shadowRoot);const o=this._getLowestLoanTypes(s.financing_plans);this._minIneligibleMessageType=(t=o)&&(t.includes(a.Interest)&&!t.includes(a.SplitPay)||t.includes(a.ZeroPercent))?i.Monthly:i.SplitPay,Q(s,this._monorailTracker.trackInvalidInstallmentBannerMetadata.bind(this._monorailTracker))&&(s.type===e.Cart?(this._monorailTracker.trackElementImpression(e.Cart),this._metaType=e.Cart,this.handleCartOrCheckoutMeta(s)):s.type===e.Checkout?(this._monorailTracker.trackElementImpression(e.Checkout),this._metaType=e.Checkout,this.handleCartOrCheckoutMeta(s)):(this._monorailTracker.trackElementImpression(e.Product),this._metaType=e.Product,this.handleProductMeta(s))),this.updateLearnMoreButtonAndModal()}}catch(e){e instanceof TypeError&&e.message.match(ne)?console.error(e):n.notify(e,{metadata:{component:this._componentMetadata()}}),this._clearShadowRoot()}var t}_getSellerIdInNumber(){return this._sellerId?Number.parseInt(this._sellerId,10):void 0}updateLearnMoreButtonAndModal(){return o(this,void 0,void 0,(function*(){var t;const n=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("#shopify-installments-cta");if(!this._i18n||!n)return;const i=I(this,xe,"a",Se);I(this,xe,"a",qe)?n.innerHTML=this._i18n.translate("banner.prequal"):this._eligible&&i?n.innerHTML=this._i18n.translate("banner.view_sample_plans"):n.innerHTML=this._i18n.translate("banner.learn_more"),this._monorailTracker.trackInstallmentsBannerImpression(this._metaType,this._getInstallmentBannerContentType(i),this._eligible,b.Standard,I(this,xe,"a",qe),this._fullPrice,this._currentVariantId),this._metaType===e.Cart&&i&&(this._cartDetails=yield this._generateCartDetails()),I(this,xe,"m",Ie).call(this,n),I(this,xe,"a",Me)&&I(this,xe,"m",Be).call(this)}))}handleProductMeta(e){this._variants=e.variants,this._minPrice=e.min_price,this._minPriceNumber=le(this._minPrice),this._maxPrice=e.max_price,this._maxPriceNumber=le(this._maxPrice),this._currentVariantId=Number(this.getAttribute("variant-id")),this._fullPrice=this._getVariantFullPrice(this._currentVariantId),this._numberOfPaymentTerms=this._getNumberOfPaymentTermsForPDPVariant(this._currentVariantId),this._pricePerTerm=this.updatePDPVariant(this._currentVariantId,e.financing_plans),this._sellerId=e.seller_id,this._installmentsBuyerPrequalificationEnabled=e.installments_buyer_prequalification_enabled,this._buildInstallmentPlans(e.financing_plans,this._fullPrice);const t=this._getProductForm();if(t){const n=(i=0)=>{if(i>4)return;const a=ce(t);a&&(this._currentVariantId===a?setTimeout((()=>{n(i+1)}),100):(this._numberOfPaymentTerms=this._getNumberOfPaymentTermsForPDPVariant(a),this._pricePerTerm=this.updatePDPVariant(a,e.financing_plans),this._fullPrice=this._getVariantFullPrice(a),this._buildInstallmentPlans(e.financing_plans,this._fullPrice),this._currentVariantId=a,this.updateLearnMoreButtonAndModal()))};this._hasChangeEventListener||(this._hasChangeEventListener=!0,t.addEventListener("change",(()=>{n()})))}}handleCartOrCheckoutMeta(e){const t=se();this._minPrice=e.min_price,this._minPriceNumber=le(this._minPrice),this._maxPrice=e.max_price,this._maxPriceNumber=le(this._maxPrice),this._fullPrice=e.full_price,this._loanTypes=this._getAvailableLoanTypes(this._fullPrice,e.financing_plans),this._eligible=e.eligible,this._financingTermForBanner=this.getFinancingTermForCart(this._fullPrice,e.financing_plans),this._sellerId=e.seller_id,this._installmentsBuyerPrequalificationEnabled=e.installments_buyer_prequalification_enabled,this._pricePerTerm=this._financingTermForBanner?this.getCartPricePerTerm(this._fullPrice,this._financingTermForBanner):e.price_per_term,this._numberOfPaymentTerms=this._financingTermForBanner?this._financingTermForBanner.installments_count:e.number_of_payment_terms,this.updateBannerPrice(this._pricePerTerm),this._loanTypes.length&&this._buildInstallmentPlans(e.financing_plans,e.full_price),t||oe();new MutationObserver((e=>{e.forEach((e=>{if(e.target.nodeType!==Node.ELEMENT_NODE)return;const n=e.target;if((n.matches("[data-cart-subtotal]")||t&&n.matches(t))&&n.textContent){const e=le(n.textContent);if(e){this._fullPrice=n.textContent,this._eligible=this._priceEligible(e);const t=this._splitCartPrice(e);if(t){const e=ae(t);this._pricePerTerm=e,this.updateBannerPrice(e)}}}}))})).observe(document,{attributes:!0,childList:!0,subtree:!0})}buildVariantInfo(e){return{idQuantityMapping:`${this._currentVariantId}:${e}`,available:this._variantAvailable}}getCartPricePerTerm(e,t){const n=le(e);return this.calculatePricePerTerm(n,t)}getFinancingTermForCart(e,t){const n=le(e),i=this._getFinancingPlanForPrice(n,t);if(i)return this._getFinancingTermForBanner(i)}_getVariantFullPrice(e){var t;const n=null===(t=this._variants)||void 0===t?void 0:t.find((t=>Number(t.id)===e));return null==n?void 0:n.full_price}_getNumberOfPaymentTermsForPDPVariant(e){var t;const n=null===(t=this._variants)||void 0===t?void 0:t.find((t=>Number(t.id)===e));return(null==n?void 0:n.number_of_payment_terms)||4}_generateCartDetails(){return o(this,void 0,void 0,(function*(){const e=F(window.location.origin);if(e)return O(e)}))}_getLowestLoanTypes(e){const t=e?e[0]:null;if(!t)return[];return t.terms.map((e=>e.loan_type===a.SplitPay?a.SplitPay:0===e.apr?a.ZeroPercent:a.Interest))}_getFinancingPlanForPrice(e,t){return t.find((t=>{const n=le(t.min_price),i=le(t.max_price);return e>=n&&e<=i}))}_getFinancingTermForBanner(e){const t=e.terms.reduce(((e,t)=>t.installments_count>e.installments_count?t:e));if(this._hasZeroInterestLoanType())return t;const n=e.terms.find((e=>e.loan_type===a.SplitPay));return n&&!this.isInAdaptiveRangeWithoutZeroInterest()?n:t}_buildInstallmentPlans(e,t){if(!t)return;const n=le(t),i=this._getFinancingPlanForPrice(n,e);i&&(this._installmentPlans=this._getSampleDisplayedTerms(i.terms).map((e=>({pricePerTerm:this.calculatePricePerTerm(n,e),apr:e.apr,numberOfPaymentTerms:e.installments_count,loanType:e.loan_type}))))}_getSampleDisplayedTerms(e){if(e.length<3)return e;if(this.isInAdaptiveRangeWithoutZeroInterest())return[e[0],e[e.length-1]];const t=e.filter((e=>e.loan_type!==a.SplitPay));return t.length<3?t:[t[0],t[t.length-1]]}_splitCartPrice(e){if(!isNaN(e))return Math.floor(e/this._numberOfPaymentTerms*100)/100}_priceEligible(e){return null!=this._minPriceNumber&&null!=this._maxPriceNumber&&e>=this._minPriceNumber&&e<=this._maxPriceNumber}_instrumentMonorailModalOpenEvent(e,t){e instanceof be?this._modalMonorailTracker.trackModalOpened(t,e.getModalToken(),e.getModalType(),JSON.stringify([]),this._currentVariantId,this._fullPrice):this._modalMonorailTracker.trackModalOpened(t,e.getModalToken(),e.getModalType(),JSON.stringify(e.getModalSamplePlans()),this._currentVariantId,this._fullPrice,e.getPermalink())}_getInstallmentBannerContentType(e){return e?this.isInAdaptiveRangeWithoutZeroInterest()?f.PayInFourAsLowAs:f.AsLowAs:f.PayInFour}_hasZeroInterestLoanType(){return this._loanTypes.includes(a.ZeroPercent)}_getAvailableLoanTypes(e,t){if(!t||0===t.length||!e)return[];const n=le(e),i=this._getFinancingPlanForPrice(n,t);if(!i)return[];const s=new Set;return i.terms.forEach((e=>{e.loan_type===a.SplitPay?s.add(a.SplitPay):0===e.apr?s.add(a.ZeroPercent):s.add(a.Interest)})),Array.from(s)}_getProductForm(){var e,t,n;return null===(n=null===(t=null===(e=this.shadowRoot)||void 0===e?void 0:e.host.parentNode)||void 0===t?void 0:t.host)||void 0===n?void 0:n.closest("form")}_clearShadowRoot(){this.shadowRoot&&(this.shadowRoot.innerHTML="")}_componentMetadata(){return{name:"shop-pay-installments-banner",shopifyMeta:this.getAttribute("shopify-meta"),variantId:this.getAttribute("variant-id")}}}xe=new WeakSet,Ie=function(t){var n;const i=()=>o(this,void 0,void 0,(function*(){const n=y();if(!this._pricePerTerm)return;const i=this._getProductForm(),a=this._metaType===e.Product?function(e){if(!e)return 1;const t=e.elements.quantity;if(t)return Number(t.value);const n=e.getAttribute("id"),i=null==n?void 0:n.replace("product-form-installment-",""),a=document.getElementById(`Quantity-${i}`);return a?Number(a.value):1}(i):void 0;if(!this._open){this._open=!0,this._modalMonorailTracker.trackElementImpression(this._metaType);const e={minPrice:this._minPrice,maxPrice:this._maxPrice},i=a?this.buildVariantInfo(a):void 0;let s;this._installmentsBuyerPrequalificationEnabled&&this._eligible?(s=new Fe(n,this._modalMonorailTracker,this._loanTypes,this._eligible,this._installmentPlans||[],this._fullPrice||"",this._sellerId,i,this._cartDetails,this._analyticsTraceId),this._modalMonorailTracker.trackInstallmentsBannerPrequalInteraction(this._metaType,this._getInstallmentBannerContentType(!1),this._eligible,this._fullPrice||"",!0)):s=I(this,xe,"a",Se)?new Pe(n,this._modalMonorailTracker,this._installmentPlans||[],this._fullPrice||"",this._metaType,i,this._cartDetails):new be(this._pricePerTerm,this._eligible,e,this._loanTypes,n,this._modalMonorailTracker,this._fullPrice,this._minIneligibleMessageType,this._numberOfPaymentTerms),yield s.connectedCallback();const o=new ie(s.focusLockTarget);s.addEventListener("shopify_modal_close",(()=>{this._open=!1,ve(),o.release(t)})),this._installmentsBuyerPrequalificationEnabled&&this._modalMonorailTracker.trackInstallmentsPrequalPopupPageImpression(this._getSellerIdInNumber(),P.IntroPageLoaded),ge(s),this._instrumentMonorailModalOpenEvent(s,this._metaType),o.lock()}}));this._lastLearnMoreEventListener.has(t)&&(null===(n=this._lastLearnMoreEventListener.get(t))||void 0===n||n()),this._lastLearnMoreEventListener.set(t,(()=>t.removeEventListener("click",i))),t.addEventListener("click",i)},Se=function(){var e;const t=1===this._loanTypes.length&&this._loanTypes[0]===a.Interest,n=(null===(e=this._installmentPlans)||void 0===e?void 0:e.length)&&this._fullPrice&&(this._hasZeroInterestLoanType()||t||this.isInAdaptiveRangeWithoutZeroInterest());return Boolean(n)},qe=function(){return Boolean(this._eligible&&this._installmentsBuyerPrequalificationEnabled)},Me=function(){return Boolean(this._fullPrice&&this._eligible&&le(this._fullPrice)>=50)},Ee=function(){return Boolean(this._fullPrice&&le(this._fullPrice)<150)},Ae=function(){const e=this.shadowRoot.querySelector(".shopify-installments__prequal-row");if(!e)return;const t=window.getComputedStyle(e);return{color:t.color,fontSize:t.fontSize,fontFamily:t.fontFamily,letterSpacing:t.letterSpacing,fontFace:fe(t.fontFamily)}},Be=function(){var e,t,n,i,a;const s=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("#shopify-installments-cta"),o=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("#shopifyPrequalifiedCTA"),r=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector("#prequalAmountRowWrapper");let l=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector("#prequalAmount");l||(l=document.createElement("shop-prequal-amount"),l.setAttribute("id","prequalAmount"),null===(a=o.parentNode)||void 0===a||a.insertBefore(l,o)),o&&this._i18n&&(o.innerHTML=I(this,xe,"a",Ee)?this._i18n.translate("banner.learn_more"):this._i18n.translate("banner.prequal_contents.prequalified_see_plans"),I(this,xe,"m",Ie).call(this,o),l.onloaded=()=>null==r?void 0:r.classList.remove("stable"),l.styles=()=>I(this,xe,"m",Ae).call(this),l.onready=(e,t)=>{var n;if(e){if(!t){const e=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector("#shopify-installments");null==e||e.classList.add("default-font")}s.tabIndex=-1,o.tabIndex=0,requestAnimationFrame((()=>{null==r||r.classList.add("is-prequalified"),setTimeout((()=>null==r?void 0:r.classList.add("stable")),300)}))}})};const Re=`<style>\n.prequal_overlay {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  z-index: ${R} !important;\n  color: white;\n  background: radial-gradient(\n    106.68% 106.68% at 50% 50%,\n    rgba(0, 0, 0, 0.94) 23.96%,\n    rgba(0, 0, 0, 0.6) 100%\n  );\n  animation: fadein 300ms ease-out;\n}\n@keyframes fadein {\n  from {\n      opacity:0;\n  }\n  to {\n      opacity:1;\n  }\n}\n\np {\n    margin: 1em;\n}\n\na {\n    text-decoration: underline;\n    color: #FFF;\n}\n\n</style>\n\n<div class="prequal_overlay">\n    <shop-pay-logo background-color="#000" size="large"></shop-pay-logo>\n    <p>We need a bit more information. <br>\n    Click continue and a new tab will open so you can provide your information securely.</p>\n    <a href="#" id="installments-prequal-overlay-continue">Continue</a>\n</div>\n`;var Ne,ze,Ve;class $e extends N{constructor(){super(),Ne.add(this),ze.set(this,void 0),customElements.get("shop-pay-logo")||customElements.define("shop-pay-logo",_)}connectedCallback(){const e=document.createElement("template");e.innerHTML=Re,this.attachShadow({mode:"open"}).append(e.content.cloneNode(!0)),I(this,Ne,"m",Ve).call(this)}disconnectedCallback(){var e;null===(e=this._popupListener)||void 0===e||e.destroy(),this._popupListener=void 0}attributeChangedCallback(){}handlePostMessage(e){var t,n,i;"close"===e.type&&(null===(t=I(this,ze,"f"))||void 0===t||t.close(),this.dispatchCustomEvent("overlayClose")),"prequal_buyer_upsert_successful"===e.type&&(null===(n=I(this,ze,"f"))||void 0===n||n.close(),this.dispatchCustomEvent("buyerOnboardingSuccess")),"error"===e.type&&(null===(i=I(this,ze,"f"))||void 0===i||i.close(),this.dispatchCustomEvent("closeOverlayAndModal"))}handleContinueButtonClick(){if(I(this,ze,"f")&&!I(this,ze,"f").closed)I(this,ze,"f").focus(),this.addPostMessageEventListener();else{const e=`${D()}/shopify_pay/prequal_authorize?target_origin=${window.location.origin}`;z(this,ze,V({url:e,width:500,height:750}),"f"),I(this,ze,"f")&&(I(this,ze,"f").focus(),this.addPostMessageEventListener())}}addPostMessageEventListener(){I(this,ze,"f")&&(this._popupListener=new M(new $(I(this,ze,"f")),[w],this.handlePostMessage.bind(this)))}}var We,je,He,Ze,De,Ue,Je,Ye,Qe,Ke,Ge,Xe,et,tt,nt,it,at,st,ot,rt,lt,ct,pt;ze=new WeakMap,Ne=new WeakSet,Ve=function(){var e;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("#installments-prequal-overlay-continue");t&&(t.onclick=()=>{this.handleContinueButtonClick()})};var ht;!function(e){e.Unspecified="unspecified",e.PrequalAmount="prequalAmount"}(ht||(ht={}));class mt extends W{constructor(e){super(e,[w,E])}}const dt=new WeakMap;class ut extends N{constructor(){var e;super(),We.add(this),je.set(this,null),He.set(this,void 0),Ze.set(this,"loading"),De.set(this,void 0),Ue.set(this,void 0),Je.set(this,void 0),Ye.set(this,void 0),Qe.set(this,void 0),Ke.set(this,void 0),Ge.set(this,void 0),Xe.set(this,{shopPayInstallmentsOnboarded:!1,fontLoaded:!1}),z(this,He,this.getAttribute(L)||x(),"f");const t=document.createElement("template");t.innerHTML="\n    <style>\n\n      .container {\n        display: flex;\n        flex-direction: row;\n        align-content: center;\n        align-items: center;\n        column-gap: 4px;\n      }\n\n      .container iframe {\n        border: none;\n        padding: 0;\n        margin: 0;\n        display: inline-block;\n        /* prevents flickering before content loaded */\n        width: 0;\n        height: 0;\n      }\n\n      .container::after {\n        content: '.';\n        display: inline-block;\n        margin-left: -4px;\n      }\n    </style>\n\n    <div class=\"container\">\n    </div>\n  ",dt.set(this,this.attachShadow({mode:"open"})),null===(e=dt.get(this))||void 0===e||e.appendChild(t.content.cloneNode(!0))}set styles(e){z(this,De,e,"f"),I(this,We,"m",et).call(this)}get styles(){return I(this,De,"f")}set onready(e){z(this,Ue,e,"f")}get onready(){return I(this,Ue,"f")}set onloaded(e){z(this,Je,e,"f")}get onloaded(){return I(this,Je,"f")}connectedCallback(){return o(this,void 0,void 0,(function*(){I(this,We,"m",ot).call(this),yield I(this,We,"m",at).call(this),I(this,We,"m",rt).call(this),I(this,We,"m",ct).call(this)}))}attributeChangedCallback(e,t,n){this.updateAttribute(e,n||void 0)}disconnectedCallback(){I(this,We,"m",pt).call(this),I(this,We,"m",ot).call(this)}handlePostMessage(e){var t;switch(I(this,We,"m",tt).call(this),e.type){case"custom_flow_side_effect":z(this,Ze,"confirmed","f"),z(this,Xe,{shopPayInstallmentsOnboarded:Boolean(e.shopPayInstallmentsOnboarded),fontLoaded:Boolean(e.fontAssetLoaded)},"f"),I(this,We,"m",st).call(this);break;case"error":I(this,We,"m",nt).call(this);break;case"loaded":"loading"===I(this,Ze,"f")&&(z(this,Ze,"loaded","f"),null===(t=I(this,Je,"f"))||void 0===t||t.call(this),I(this,We,"m",et).call(this));break;case"resize_iframe":I(this,Ye,"f").style.height=`${e.height}px`,I(this,Ye,"f").style.width=`${e.width}px`,"confirmed"===I(this,Ze,"f")&&I(this,We,"m",it).call(this,I(this,Xe,"f").shopPayInstallmentsOnboarded,I(this,Xe,"f").fontLoaded)}}}je=new WeakMap,He=new WeakMap,Ze=new WeakMap,De=new WeakMap,Ue=new WeakMap,Je=new WeakMap,Ye=new WeakMap,Qe=new WeakMap,Ke=new WeakMap,Ge=new WeakMap,Xe=new WeakMap,We=new WeakSet,et=function(){var e;if("loaded"===I(this,Ze,"f")&&I(this,De,"f")){const t=I(this,De,"f").call(this);t&&(null===(e=I(this,Ke,"f"))||void 0===e||e.postMessage({type:"setcomponentstyle",style:t}))}},tt=function(){I(this,Ge,"f")&&(clearTimeout(I(this,Ge,"f")),z(this,Ge,void 0,"f"))},nt=function(){var e;z(this,Ze,"error","f"),I(this,We,"m",ot).call(this),null===(e=I(this,Ue,"f"))||void 0===e||e.call(this,!1,!1)},it=function(e,t){var n;"error"!==I(this,Ze,"f")&&(z(this,Ze,"ready","f"),e?I(this,We,"m",st).call(this):I(this,We,"m",ot).call(this),null===(n=I(this,Ue,"f"))||void 0===n||n.call(this,e,Boolean(t)))},at=function(){return o(this,void 0,void 0,(function*(){if(!I(this,je,"f"))try{const e=l.getDefaultLanguage(),t={affirm:"Affirm",shopPay:"Shop Pay",banner:{learn_more:"Learn more",view_sample_plans:"View sample plans",prequal:"Check your purchasing power",split_pay_eligible:"Pay in 4 interest-free installments of <b>{price}</b> with {shopPayLogo}",split_pay_eligible_2:"Pay in 2 interest-free installments of <b>{price}</b> with {shopPayLogo}",split_pay_eligible_30:"Pay <b>{price}</b> within 30 days interest-free with {shopPayLogo}",interest_only_eligible:"Split your purchase into monthly installments with {shopPayLogo}",dynamic_interest_only_eligible:"From <b>{price}</b>/mo with {shopPayLogo}",pay_in_4_or_as_low_as_eligible:"4 interest-free installments, or from <b>{price}</b>/mo with {shopPayLogo}",zero_interest_eligible:"From <b>{price}</b>/mo or 0% APR with {shopPayLogo}",zero_interest_eligible_zero_apr:"From <b>{price}</b>/mo at 0% APR with {shopPayLogo}",non_eligible_min:"Pay in 4 interest-free installments for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_min_over_time:"Pay over time for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_min_over_time_30:"Pay within 30 days interest-free for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_monthly_payments_min:"Split your purchase into monthly installments for orders over <b>{minPrice}</b> with {shopPayLogo}",non_eligible_max:"Split your purchase into installments for orders up to <b>{maxPrice}</b> with {shopPayLogo}",prequal_contents:{not_prequalified_see_plans:"Check your purchasing power",prequalified_see_plans:"See plans",purchasing_power_a:"Your purchasing power is ",purchasing_power_b:"Spend any amount up to "}},modal:{title:"Get it now, pay later",subtitle:{interest_and_split_pay:'Choose your payment schedule at checkout &#8211; starting at 4 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 2 weeks.',interest_only:"Choose your payment schedule at checkout to split your purchase into monthly installments.",split_pay_only:'Select installments at checkout to split your purchase into 4 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 2 weeks.',split_pay_only_2:'Select installments at checkout to split your purchase into 2 interest-free payments of <span class="tagline__bold">{splitPayLoanRepayment}</span> every 15 days.',split_pay_only_30:"Select installments at checkout to pay for your purchase of <b>{price}</b> interest-free within 30 days.",ineligible_min:"For orders over {minPrice}, select installments at checkout to split your purchase into 4 interest-free payments.",ineligible_min_over_time:"For orders over {minPrice}, select installments at checkout to split your purchase over time.",ineligible_monthly_payments_min:"For orders over {minPrice}, select installments at checkout to split your purchase into monthly payments.",ineligible_max:"For orders up to {maxPrice}, select installments at checkout to split your purchase into multiple payments.",dynamic_pdp:{one:"Sample plan for <b>{priceWithoutInterest}</b> purchase",other:"Sample plans for <b>{priceWithoutInterest}</b> purchase"}},close:"Close",new_window:"Opens in a new window.",partnership:"Installments in partnership with {affirmLogo}",partnership_disclaimer:"Installments in partnership with {affirmLogo}. Translation services are not provided by Affirm. Affirm and its offerings are only supported in English.",split_pay_contents:{interest_fees:"No hidden fees, ever.",interest_credit:"No impact on your credit score to apply.",no_interest_fees:"No fees, ever.",no_interest_credit:"No impact on your credit score to apply."},sample_plan_contents:{continue_to_checkout:"Continue to checkout",unavailable:"Unavailable",check_eligibility:"By continuing, your information will be shared with Affirm. <br/> Checking your qualification won’t affect your credit. ",apr:"APR",interest:"Interest",total:"Total",processing:"Processing your request",processing_time:"This can take up to a minute...",split_pay_frequency:'<b class="list-item__price-per-term">{pricePerTerm}</b>&nbsp;<span class="list-item__frequency"> every 2 weeks</span>',other_frequency:'<b class="list-item__price-per-term">{pricePerTerm}</b>&nbsp;<span class="list-item__frequency"> every month</span>',split_pay_number_of_terms:"&nbsp;for {numberOfTerms} weeks",other_number_of_terms:"&nbsp;for {numberOfTerms} months"},prequal_contents:{unavailable:"Unavailable",check:"Check if you qualify"},legal:{ca_residents_notice:"CA Residents: Loans by Affirm Loan Services, LLC are made or arranged pursuant to a California Finance Lender license.",rates_from_apr:'Rates from 0-36% APR. Payment options through Affirm are subject to an eligibility check, may not be available in all states, and are provided by these lending partners: <a class="help_text__link" href="https://www.affirm.com/licenses" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/lenders</a>. Options depend on your purchase amount, and a down payment may be required.',interest_and_split_pay:"The estimated payment amount excludes taxes and shipping.",split_pay_only:"The estimated payment amount excludes taxes and shipping. Payment options are offered by Affirm and are subject to an eligibility check and might not be available in all states.",ineligible:"Payment options are offered by Affirm and are subject to an eligibility check and might not be available in all states.",dynamic_pdp:'The estimated payment amount excludes taxes and shipping. Rates range from 0-36% APR. Payment options through Shop Pay Installments are subject to an eligibility check and are provided by these lending partners: <a class="help_text__link" href="https://www.affirm.com/lenders" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/lenders</a>. Options depend on your purchase amount, and a down payment may be required. More options may be available upon approval. State notices to consumers: <a class="help_text__link" href="https://www.affirm.com/licenses" target="_blank" aria-describedby="shopify-payment-terms-modal-warning-text">affirm.com/licenses</a>.'}}};z(this,je,new l({[e]:t}),"f")}catch(e){e instanceof Error&&n.notify(e)}}))},st=function(){this.style.display=""},ot=function(){this.style.display="none"},rt=function(){var e;if(!I(this,je,"f"))return;const t=null===(e=dt.get(this))||void 0===e?void 0:e.querySelector(".container"),n=I(this,je,"f").translate("banner.prequal_contents.purchasing_power_a"),i=document.createTextNode(n),a=document.createElement("span");a.appendChild(i),t.innerHTML="",t.appendChild(a)},lt=function(){return U({version:"2",analyticsTraceId:I(this,He,"f"),analyticsContext:B.Prequal,isCompactLayout:!1,flow:A.Prequal,flowVersion:ht.PrequalAmount,signUpEnabled:!1,avoidPayAltDomain:!1,avoidSdkSession:!1,hideCopy:!0,requireVerification:!1})},ct=function(){var e,t,n;z(this,Ye,document.createElement("iframe"),"f"),z(this,Ge,setTimeout((()=>{I(this,We,"m",nt).call(this)}),15e3),"f"),I(this,Ye,"f").src=I(this,We,"m",lt).call(this),null===(t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".container"))||void 0===t||t.appendChild(I(this,Ye,"f")),I(this,Qe,"f")||z(this,Qe,new M(new S(I(this,Ye,"f")),[w,E,window.location.origin],this.handlePostMessage.bind(this),(null===(n=this.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0),"f"),I(this,Ke,"f")||z(this,Ke,new mt(I(this,Ye,"f")),"f")},pt=function(){var e;null===(e=I(this,Qe,"f"))||void 0===e||e.destroy()},j()&&(H({bundle:"paymentTerms",bundleLocale:"en"}),Z(),t("shopify-payment-terms",K),t("shop-pay-banner",we),t("shop-prequal-amount",ut),t("shop-pay-installments-banner",Oe),t("installments-prequal-overlay-modal",$e));
//# sourceMappingURL=client.payment-terms_B_poY-qM.en.esm.js.map
