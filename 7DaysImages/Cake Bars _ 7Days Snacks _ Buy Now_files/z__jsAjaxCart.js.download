"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Shopify.theme.jsAjaxCart={init:function($section){Shopify.theme.jsAjaxCart=$.extend(this,Shopify.theme.getSectionData($section)),isScreenSizeLarge()||this.cart_action=="drawer"?this.initializeAjaxCart():this.initializeAjaxCartOnMobile(),this.cart_action=="drawer"?(this.ajaxCartDrawer=$("[data-ajax-cart-drawer]"),$(document).on("click","[data-ajax-cart-trigger]",function(e){return e.preventDefault(),Shopify.theme.jsAjaxCart.showDrawer(),!1})):this.cart_action=="mini_cart"&&this.showMiniCartOnHover(),$(document).on("click",".ajax-submit",function(e){e.preventDefault();var $addToCartForm2=$(this).closest("form");return Shopify.theme.jsAjaxCart.addToCart($addToCartForm2),!1}),$(document).on("click","[data-ajax-cart-delete]",function(e){e.preventDefault();var lineID2=$(this).parents("[data-line-item]").data("line-item");return Shopify.theme.jsAjaxCart.removeFromCart(lineID2),Shopify.theme.jsCart&&Shopify.theme.jsCart.removeFromCart(lineID2),!1}),$(document).on("click","[data-ajax-cart-close]",function(e){return e.preventDefault(),Shopify.theme.jsAjaxCart.hideDrawer(),Shopify.theme.jsAjaxCart.hideMiniCart(),!1})},showMiniCartOnHover:function(){var $el=$("[data-ajax-cart-trigger]");$el.hover(function(){Shopify.theme_settings.header_layout=="centered"&&$(".header-sticky-wrapper").hasClass("is-sticky")?$(".header-sticky-wrapper [data-ajax-cart-trigger]").addClass("show-mini-cart"):$el.addClass("show-mini-cart")},function(){$el.removeClass("show-mini-cart")})},hideMiniCart:function(){if(this.cart_action!="mini_cart")return!1;var $el=$("[data-ajax-cart-close]").parents("[data-ajax-cart-trigger]");$el.removeClass("show-mini-cart")},toggleMiniCart:function(){var $el=$(".mobile-header [data-ajax-cart-trigger]");$el.attr("href","#"),$el.off("click").on("click",function(e){if(!e.target.closest("[data-ajax-cart-mini_cart]")){Shopify.theme.jsAjaxCart.initializeAjaxCartOnMobile(),$el.toggleClass("show-mini-cart");var announcementHeight=0,mobileHeaderHeight=parseInt($(".mobile-header").height());typeof Shopify.theme.jsAnnouncementBar!="undefined"&&Shopify.theme.jsAnnouncementBar.enable_sticky&&(announcementHeight=Shopify.theme.jsAnnouncementBar.getAnnouncementHeight()),$(".mobile-header .theme-ajax-cart").css({height:"calc(100vh - ".concat(mobileHeaderHeight+announcementHeight,"px)")})}})},showDrawer:function(){if(this.cart_action!="drawer")return!1;this.ajaxCartDrawer.addClass("is-visible"),$(".ajax-cart__overlay").addClass("is-visible")},hideDrawer:function(){if(this.cart_action!="drawer")return!1;this.ajaxCartDrawer.removeClass("is-visible"),$(".ajax-cart__overlay").removeClass("is-visible")},removeFromCart:function removeFromCart(lineID,callback){$.ajax({type:"POST",url:"/cart/change.js",data:"quantity=0&line="+lineID,dataType:"json",success:function(cart){Shopify.theme.jsAjaxCart.updateView()},error:function error(XMLHttpRequest,textStatus){var response=eval("("+XMLHttpRequest.responseText+")");response=response.description}})},initializeAjaxCart:function initializeAjaxCart(){Shopify.theme.asyncView.load(Shopify.routes.cart_url,"ajax").done(function(_ref){var html=_ref.html,options=_ref.options;$("[data-ajax-cart-content]").html(html.content),Currency.show_multiple_currencies&&Shopify.theme.currencyConverter.convertCurrencies()}).fail(function(){})},initializeAjaxCartOnMobile:function initializeAjaxCartOnMobile(){this.toggleMiniCart(),Shopify.theme.asyncView.load(Shopify.routes.cart_url,"ajax").done(function(_ref2){var html=_ref2.html,options=_ref2.options;$(".mobile-header [data-ajax-cart-content]").html(html.content)}).fail(function(){})},addToCart:function addToCart($addToCartForm){var $addToCartBtn=$addToCartForm.find(".button--add-to-cart");$.ajax({url:"/cart/add.js",dataType:"json",cache:!1,type:"post",data:$addToCartForm.serialize(),beforeSend:function(){$addToCartBtn.attr("disabled","disabled").addClass("disabled"),$addToCartBtn.find("span").removeClass("fadeInDown").addClass("animated zoomOut")},success:function(product){var $el=$("[data-ajax-cart-trigger]");$addToCartBtn.find(".checkmark").addClass("checkmark-active");function addedToCart(){isScreenSizeLarge()?$el=$("[data-ajax-cart-trigger]"):($el=$(".mobile-header [data-ajax-cart-trigger]"),Shopify.theme.scrollToTop($el)),$el.addClass("show-mini-cart"),$addToCartBtn.find("span").removeClass("fadeInDown")}if(window.setTimeout(function(){$addToCartBtn.removeAttr("disabled").removeClass("disabled"),$addToCartBtn.find(".checkmark").removeClass("checkmark-active"),$addToCartBtn.find(".text, .icon").removeClass("zoomOut").addClass("fadeInDown"),$addToCartBtn.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",addedToCart)},1e3),Shopify.theme.jsAjaxCart.showDrawer(),Shopify.theme.jsAjaxCart.updateView(),Shopify.theme.jsCart){var _$$ajax;$.ajax((_$$ajax={dataType:"json",async:!1,cache:!1},_defineProperty(_$$ajax,"dataType","html"),_defineProperty(_$$ajax,"url","/cart"),_defineProperty(_$$ajax,"success",function(html){var cartForm=$(html).find(".cart__form");$(".cart__form").replaceWith(cartForm)}),_$$ajax))}},error:function error(XMLHttpRequest){var response=eval("("+XMLHttpRequest.responseText+")");response=response.description;var cartWarning='<p class="cart-warning__message animated bounceIn">'.concat(response.replace("All 1 ","All "),"</p>");$(".warning").remove(),$addToCartForm.find(".cart-warning").html(cartWarning),$addToCartBtn.removeAttr("disabled").removeClass("disabled"),$addToCartBtn.find(".icon").removeClass("zoomOut").addClass("zoomIn"),$addToCartBtn.find(".text").text(Shopify.translation.addToCart).removeClass("zoomOut").addClass("zoomIn")}})},updateView:function updateView(){Shopify.theme.asyncView.load(Shopify.routes.cart_url,"ajax").done(function(_ref3){var html=_ref3.html,options=_ref3.options;if(options.item_count>0){var itemList=$(html.content).find(".ajax-cart__list"),cartDetails=$(html.content).find(".ajax-cart__details-wrapper");$(".ajax-cart__list").replaceWith(itemList),$(".ajax-cart__details-wrapper").replaceWith(cartDetails),$(".ajax-cart__empty-cart-message").addClass("is-hidden"),$(".ajax-cart__form").removeClass("is-hidden"),$("[data-ajax-cart-trigger]").addClass("has-cart-count"),$('[data-bind="itemCount"]').text(options.item_count)}else $(".ajax-cart__empty-cart-message").removeClass("is-hidden"),$(".ajax-cart__form").addClass("is-hidden"),$("[data-ajax-cart-trigger]").removeClass("has-cart-count"),$('[data-bind="itemCount"]').text("0");Currency.show_multiple_currencies&&Shopify.theme.currencyConverter.convertCurrencies()}).fail(function(){})},unload:function unload($section){$(".ajax-submit").off(),$("[data-ajax-cart-delete]").off()}};
//# sourceMappingURL=/cdn/shop/t/15/assets/z__jsAjaxCart.js.map?v=88722803986127888311690823012
