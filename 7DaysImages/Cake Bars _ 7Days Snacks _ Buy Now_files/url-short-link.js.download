var URL_SITE_URL,URLAjaxUrl,jQueryURl,$,jQueryURL,URLCurrentScriptUrl=document.currentScript.src,URLDomainName=URLCurrentScriptUrl.replace("http://","").replace("https://","").split(/[/?#]/)[0],scripts=[];function url_loadScripts(e){var r=document.getElementsByTagName("head")[0],t=e.shift(),o=document.createElement("script");r.append(o);o.onload=function(r){e.length?url_loadScripts(e):(ShortUrl_Tracking(),ShortUrl_order_Tracking())},o.src=t}"localhost"===URLDomainName?URLAjaxUrl=(URL_SITE_URL="http://localhost/appsonrent-apps/url-short-link-generator/")+"url-short-link.php":"app.identixweb.com"!=URLDomainName&&"www.app.identixweb.com"!=URLDomainName||(URLAjaxUrl=URLCurrentScriptUrl.includes("dev/url-short-link-generator")?(URL_SITE_URL="https://app.identixweb.com/dev/url-short-link-generator/")+"url-short-link.php":(URL_SITE_URL="https://app.identixweb.com/url-short-link-generator/")+"url-short-link.php"),window.Checkout&&window.Checkout.jQuery?jQueryURL=$=window.Checkout.jQuery:"undefined"==typeof jQuery?(scripts.push("https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"),url_loadScripts(scripts),jQueryURl=$):jQueryURL=$=jQuery.noConflict();var getUrlParameter=function(r){for(var e,t=decodeURIComponent(window.location.search.substring(1)).split("&"),o=0;o<t.length;o++)if((e=t[o].split("="))[0]===r)return void 0===e[1]||e[1]};function setCookie(r,e,t){var o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3);o="expires="+o.toUTCString();document.cookie=r+"="+e+";"+o+";path=/; SameSite=None; Secure"}function getCookie(r){for(var e=(r=null!=r?r:"flash_msg")+"=",t=document.cookie.split(";"),o=0;o<t.length;o++){for(var a=t[o];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""}function removeParam(r,e){var t=e.split("?")[0],o=[],e=-1!==e.indexOf("?")?e.split("?")[1]:"";if(""!==e){for(var a=(o=e.split("&")).length-1;0<=a;--a)o[a].split("=")[0]===r&&o.splice(a,1);t=t+"?"+o.join("&")}return rtrim(t,"?")}function rtrim(r,e){return e=e||"s",r.replace(new RegExp("["+e+"]+$","g"),"")}function ShortUrl_Tracking(){var r=$,e=getUrlParameter("SULG-REF"),t=getUrlParameter("variant"),o=-1<t?t:"";if(e){var a,i,n=e.charAt(0).toLowerCase(),s=e.slice(1,e.length-1),t=e.charAt(e.length-1).toLowerCase();switch(n){case"p":a="0";break;case"c":a="1";break;case"d":a="2";break;case"m":a="3"}switch(t){case"g":i="0";break;case"b":i="1";break;case"t":i="2";break;case"s":i="3";break;case"q":i="4"}var c,l,e="order_summary",t=getCookie(e);l=""==t?{rid:[n+""+s],rvariant_id:o,rtype:a,shorturl_type:i}:(l=JSON.parse(t),c=l.rid,r.each(c,function(r,e){e!=n+""+s&&c.push(n+""+s)}),{rid:r.unique(c),rvariant_id:l.rvariant_id,rtype:l.rtype,shorturl_type:l.shorturl_type}),setCookie(e,JSON.stringify(l),1),r.ajax({url:URLAjaxUrl,type:"post",dataType:"json",data:{method_name:"shorturl_tracking",shop:Shopify.shop,rid:s,rvariant_id:o,rtype:a,shorturl_type:i},success:function(r){console.log(r),"success"==r.result&&(r=removeParam("SULG-REF",window.location.href),window.history.pushState("","",r))}})}}function ShortUrl_order_Tracking(){var e,r;jQueryURL=$,Shopify.Checkout&&void 0!==Shopify.Checkout.OrderStatus&&("thank_you"!=Shopify.Checkout.page&&!Shopify.checkout.order_id||""!=(r=getCookie(e="order_summary"))&&(r=JSON.parse(r),r={method_name:"shorturl_order_tracking",shop:Shopify.shop,rid:r.rid,rvariant_id:r.rvariant_id,rtype:r.rtype,shorturl_type:r.shorturl_type,order_id:Shopify.checkout.order_id},jQueryURL.ajax({url:URLAjaxUrl,type:"post",dataType:"json",data:r,success:function(r){console.log(r),"success"==r.result&&setCookie(e,null,"-1")}})))}